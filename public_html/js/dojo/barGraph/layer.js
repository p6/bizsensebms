/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is a compiled version of Dojo, built for deployment and not for
	development. To get an editable version, please visit:

		http://dojotoolkit.org

	for documentation and information on getting the source.
*/

if(!dojo._hasResource["dojo.data.util.filter"]){dojo._hasResource["dojo.data.util.filter"]=true;dojo.provide("dojo.data.util.filter");dojo.data.util.filter.patternToRegExp=function(_1,_2){var _3="^";var c=null;for(var i=0;i<_1.length;i++){c=_1.charAt(i);switch(c){case "\\":_3+=c;i++;_3+=_1.charAt(i);break;case "*":_3+=".*";break;case "?":_3+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":_3+="\\";default:_3+=c;}}_3+="$";if(_2){return new RegExp(_3,"mi");}else{return new RegExp(_3,"m");}};}if(!dojo._hasResource["dojo.data.util.sorter"]){dojo._hasResource["dojo.data.util.sorter"]=true;dojo.provide("dojo.data.util.sorter");dojo.data.util.sorter.basicComparator=function(a,b){var r=-1;if(a===null){a=undefined;}if(b===null){b=undefined;}if(a==b){r=0;}else{if(a>b||a==null){r=1;}}return r;};dojo.data.util.sorter.createSortFunction=function(_4,_5){var _6=[];function _7(_8,_9,_a,s){return function(_b,_c){var a=s.getValue(_b,_8);var b=s.getValue(_c,_8);return _9*_a(a,b);};};var _d;var _e=_5.comparatorMap;var bc=dojo.data.util.sorter.basicComparator;for(var i=0;i<_4.length;i++){_d=_4[i];var _f=_d.attribute;if(_f){var dir=(_d.descending)?-1:1;var _10=bc;if(_e){if(typeof _f!=="string"&&("toString" in _f)){_f=_f.toString();}_10=_e[_f]||bc;}_6.push(_7(_f,dir,_10,_5));}}return function(_11,_12){var i=0;while(i<_6.length){var ret=_6[i++](_11,_12);if(ret!==0){return ret;}}return 0;};};}if(!dojo._hasResource["dojo.data.util.simpleFetch"]){dojo._hasResource["dojo.data.util.simpleFetch"]=true;dojo.provide("dojo.data.util.simpleFetch");dojo.data.util.simpleFetch.fetch=function(_13){_13=_13||{};if(!_13.store){_13.store=this;}var _14=this;var _15=function(_16,_17){if(_17.onError){var _18=_17.scope||dojo.global;_17.onError.call(_18,_16,_17);}};var _19=function(_1a,_1b){var _1c=_1b.abort||null;var _1d=false;var _1e=_1b.start?_1b.start:0;var _1f=(_1b.count&&(_1b.count!==Infinity))?(_1e+_1b.count):_1a.length;_1b.abort=function(){_1d=true;if(_1c){_1c.call(_1b);}};var _20=_1b.scope||dojo.global;if(!_1b.store){_1b.store=_14;}if(_1b.onBegin){_1b.onBegin.call(_20,_1a.length,_1b);}if(_1b.sort){_1a.sort(dojo.data.util.sorter.createSortFunction(_1b.sort,_14));}if(_1b.onItem){for(var i=_1e;(i<_1a.length)&&(i<_1f);++i){var _21=_1a[i];if(!_1d){_1b.onItem.call(_20,_21,_1b);}}}if(_1b.onComplete&&!_1d){var _22=null;if(!_1b.onItem){_22=_1a.slice(_1e,_1f);}_1b.onComplete.call(_20,_22,_1b);}};this._fetchItems(_13,_19,_15);return _13;};}if(!dojo._hasResource["dojo.date.stamp"]){dojo._hasResource["dojo.date.stamp"]=true;dojo.provide("dojo.date.stamp");dojo.date.stamp.fromISOString=function(_23,_24){if(!dojo.date.stamp._isoRegExp){dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _25=dojo.date.stamp._isoRegExp.exec(_23),_26=null;if(_25){_25.shift();if(_25[1]){_25[1]--;}if(_25[6]){_25[6]*=1000;}if(_24){_24=new Date(_24);dojo.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(_27){return _24["get"+_27]();}).forEach(function(_28,_29){if(_25[_29]===undefined){_25[_29]=_28;}});}_26=new Date(_25[0]||1970,_25[1]||0,_25[2]||1,_25[3]||0,_25[4]||0,_25[5]||0,_25[6]||0);if(_25[0]<100){_26.setFullYear(_25[0]||1970);}var _2a=0,_2b=_25[7]&&_25[7].charAt(0);if(_2b!="Z"){_2a=((_25[8]||0)*60)+(Number(_25[9])||0);if(_2b!="-"){_2a*=-1;}}if(_2b){_2a-=_26.getTimezoneOffset();}if(_2a){_26.setTime(_26.getTime()+_2a*60000);}}return _26;};dojo.date.stamp.toISOString=function(_2c,_2d){var _2e=function(n){return (n<10)?"0"+n:n;};_2d=_2d||{};var _2f=[],_30=_2d.zulu?"getUTC":"get",_31="";if(_2d.selector!="time"){var _32=_2c[_30+"FullYear"]();_31=["0000".substr((_32+"").length)+_32,_2e(_2c[_30+"Month"]()+1),_2e(_2c[_30+"Date"]())].join("-");}_2f.push(_31);if(_2d.selector!="date"){var _33=[_2e(_2c[_30+"Hours"]()),_2e(_2c[_30+"Minutes"]()),_2e(_2c[_30+"Seconds"]())].join(":");var _34=_2c[_30+"Milliseconds"]();if(_2d.milliseconds){_33+="."+(_34<100?"0":"")+_2e(_34);}if(_2d.zulu){_33+="Z";}else{if(_2d.selector!="time"){var _35=_2c.getTimezoneOffset();var _36=Math.abs(_35);_33+=(_35>0?"-":"+")+_2e(Math.floor(_36/60))+":"+_2e(_36%60);}}_2f.push(_33);}return _2f.join("T");};}if(!dojo._hasResource["dojo.data.ItemFileReadStore"]){dojo._hasResource["dojo.data.ItemFileReadStore"]=true;dojo.provide("dojo.data.ItemFileReadStore");dojo.declare("dojo.data.ItemFileReadStore",null,{constructor:function(_37){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._jsonFileUrl=_37.url;this._ccUrl=_37.url;this.url=_37.url;this._jsonData=_37.data;this.data=null;this._datatypeMap=_37.typeMap||{};if(!this._datatypeMap["Date"]){this._datatypeMap["Date"]={type:Date,deserialize:function(_38){return dojo.date.stamp.fromISOString(_38);}};}this._features={"dojo.data.api.Read":true,"dojo.data.api.Identity":true};this._itemsByIdentity=null;this._storeRefPropName="_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._reverseRefMap="_RRM";this._loadInProgress=false;this._queuedFetches=[];if(_37.urlPreventCache!==undefined){this.urlPreventCache=_37.urlPreventCache?true:false;}if(_37.hierarchical!==undefined){this.hierarchical=_37.hierarchical?true:false;}if(_37.clearOnClose){this.clearOnClose=true;}if("failOk" in _37){this.failOk=_37.failOk?true:false;}},url:"",_ccUrl:"",data:null,typeMap:null,clearOnClose:false,urlPreventCache:false,failOk:false,hierarchical:true,_assertIsItem:function(_39){if(!this.isItem(_39)){throw new Error("dojo.data.ItemFileReadStore: Invalid item argument.");}},_assertIsAttribute:function(_3a){if(typeof _3a!=="string"){throw new Error("dojo.data.ItemFileReadStore: Invalid attribute argument.");}},getValue:function(_3b,_3c,_3d){var _3e=this.getValues(_3b,_3c);return (_3e.length>0)?_3e[0]:_3d;},getValues:function(_3f,_40){this._assertIsItem(_3f);this._assertIsAttribute(_40);return _3f[_40]||[];},getAttributes:function(_41){this._assertIsItem(_41);var _42=[];for(var key in _41){if((key!==this._storeRefPropName)&&(key!==this._itemNumPropName)&&(key!==this._rootItemPropName)&&(key!==this._reverseRefMap)){_42.push(key);}}return _42;},hasAttribute:function(_43,_44){this._assertIsItem(_43);this._assertIsAttribute(_44);return (_44 in _43);},containsValue:function(_45,_46,_47){var _48=undefined;if(typeof _47==="string"){_48=dojo.data.util.filter.patternToRegExp(_47,false);}return this._containsValue(_45,_46,_47,_48);},_containsValue:function(_49,_4a,_4b,_4c){return dojo.some(this.getValues(_49,_4a),function(_4d){if(_4d!==null&&!dojo.isObject(_4d)&&_4c){if(_4d.toString().match(_4c)){return true;}}else{if(_4b===_4d){return true;}}});},isItem:function(_4e){if(_4e&&_4e[this._storeRefPropName]===this){if(this._arrayOfAllItems[_4e[this._itemNumPropName]]===_4e){return true;}}return false;},isItemLoaded:function(_4f){return this.isItem(_4f);},loadItem:function(_50){this._assertIsItem(_50.item);},getFeatures:function(){return this._features;},getLabel:function(_51){if(this._labelAttr&&this.isItem(_51)){return this.getValue(_51,this._labelAttr);}return undefined;},getLabelAttributes:function(_52){if(this._labelAttr){return [this._labelAttr];}return null;},_fetchItems:function(_53,_54,_55){var _56=this;var _57=function(_58,_59){var _5a=[];var i,key;if(_58.query){var _5b;var _5c=_58.queryOptions?_58.queryOptions.ignoreCase:false;var _5d={};for(key in _58.query){_5b=_58.query[key];if(typeof _5b==="string"){_5d[key]=dojo.data.util.filter.patternToRegExp(_5b,_5c);}else{if(_5b instanceof RegExp){_5d[key]=_5b;}}}for(i=0;i<_59.length;++i){var _5e=true;var _5f=_59[i];if(_5f===null){_5e=false;}else{for(key in _58.query){_5b=_58.query[key];if(!_56._containsValue(_5f,key,_5b,_5d[key])){_5e=false;}}}if(_5e){_5a.push(_5f);}}_54(_5a,_58);}else{for(i=0;i<_59.length;++i){var _60=_59[i];if(_60!==null){_5a.push(_60);}}_54(_5a,_58);}};if(this._loadFinished){_57(_53,this._getItemsArray(_53.queryOptions));}else{if(this._jsonFileUrl!==this._ccUrl){dojo.deprecated("dojo.data.ItemFileReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null&&this._jsonData==null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_53,filter:_57});}else{this._loadInProgress=true;var _61={url:_56._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};var _62=dojo.xhrGet(_61);_62.addCallback(function(_63){try{_56._getItemsFromLoadedData(_63);_56._loadFinished=true;_56._loadInProgress=false;_57(_53,_56._getItemsArray(_53.queryOptions));_56._handleQueuedFetches();}catch(e){_56._loadFinished=true;_56._loadInProgress=false;_55(e,_53);}});_62.addErrback(function(_64){_56._loadInProgress=false;_55(_64,_53);});var _65=null;if(_53.abort){_65=_53.abort;}_53.abort=function(){var df=_62;if(df&&df.fired===-1){df.cancel();df=null;}if(_65){_65.call(_53);}};}}else{if(this._jsonData){try{this._loadFinished=true;this._getItemsFromLoadedData(this._jsonData);this._jsonData=null;_57(_53,this._getItemsArray(_53.queryOptions));}catch(e){_55(e,_53);}}else{_55(new Error("dojo.data.ItemFileReadStore: No JSON source data was provided as either URL or a nested Javascript object."),_53);}}}},_handleQueuedFetches:function(){if(this._queuedFetches.length>0){for(var i=0;i<this._queuedFetches.length;i++){var _66=this._queuedFetches[i];var _67=_66.args;var _68=_66.filter;if(_68){_68(_67,this._getItemsArray(_67.queryOptions));}else{this.fetchItemByIdentity(_67);}}this._queuedFetches=[];}},_getItemsArray:function(_69){if(_69&&_69.deep){return this._arrayOfAllItems;}return this._arrayOfTopLevelItems;},close:function(_6a){if(this.clearOnClose&&this._loadFinished&&!this._loadInProgress){if(((this._jsonFileUrl==""||this._jsonFileUrl==null)&&(this.url==""||this.url==null))&&this.data==null){}this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._itemsByIdentity=null;this._loadInProgress=false;this._queuedFetches=[];}},_getItemsFromLoadedData:function(_6b){var _6c=false;var _6d=this;function _6e(_6f){var _70=((_6f!==null)&&(typeof _6f==="object")&&(!dojo.isArray(_6f)||_6c)&&(!dojo.isFunction(_6f))&&(_6f.constructor==Object||dojo.isArray(_6f))&&(typeof _6f._reference==="undefined")&&(typeof _6f._type==="undefined")&&(typeof _6f._value==="undefined")&&_6d.hierarchical);return _70;};function _71(_72){_6d._arrayOfAllItems.push(_72);for(var _73 in _72){var _74=_72[_73];if(_74){if(dojo.isArray(_74)){var _75=_74;for(var k=0;k<_75.length;++k){var _76=_75[k];if(_6e(_76)){_71(_76);}}}else{if(_6e(_74)){_71(_74);}}}}};this._labelAttr=_6b.label;var i;var _77;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=_6b.items;for(i=0;i<this._arrayOfTopLevelItems.length;++i){_77=this._arrayOfTopLevelItems[i];if(dojo.isArray(_77)){_6c=true;}_71(_77);_77[this._rootItemPropName]=true;}var _78={};var key;for(i=0;i<this._arrayOfAllItems.length;++i){_77=this._arrayOfAllItems[i];for(key in _77){if(key!==this._rootItemPropName){var _79=_77[key];if(_79!==null){if(!dojo.isArray(_79)){_77[key]=[_79];}}else{_77[key]=[null];}}_78[key]=key;}}while(_78[this._storeRefPropName]){this._storeRefPropName+="_";}while(_78[this._itemNumPropName]){this._itemNumPropName+="_";}while(_78[this._reverseRefMap]){this._reverseRefMap+="_";}var _7a;var _7b=_6b.identifier;if(_7b){this._itemsByIdentity={};this._features["dojo.data.api.Identity"]=_7b;for(i=0;i<this._arrayOfAllItems.length;++i){_77=this._arrayOfAllItems[i];_7a=_77[_7b];var _7c=_7a[0];if(!this._itemsByIdentity[_7c]){this._itemsByIdentity[_7c]=_77;}else{if(this._jsonFileUrl){throw new Error("dojo.data.ItemFileReadStore:  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+_7b+"].  Value collided: ["+_7c+"]");}else{if(this._jsonData){throw new Error("dojo.data.ItemFileReadStore:  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+_7b+"].  Value collided: ["+_7c+"]");}}}}}else{this._features["dojo.data.api.Identity"]=Number;}for(i=0;i<this._arrayOfAllItems.length;++i){_77=this._arrayOfAllItems[i];_77[this._storeRefPropName]=this;_77[this._itemNumPropName]=i;}for(i=0;i<this._arrayOfAllItems.length;++i){_77=this._arrayOfAllItems[i];for(key in _77){_7a=_77[key];for(var j=0;j<_7a.length;++j){_79=_7a[j];if(_79!==null&&typeof _79=="object"){if(("_type" in _79)&&("_value" in _79)){var _7d=_79._type;var _7e=this._datatypeMap[_7d];if(!_7e){throw new Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+_7d+"'");}else{if(dojo.isFunction(_7e)){_7a[j]=new _7e(_79._value);}else{if(dojo.isFunction(_7e.deserialize)){_7a[j]=_7e.deserialize(_79._value);}else{throw new Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");}}}}if(_79._reference){var _7f=_79._reference;if(!dojo.isObject(_7f)){_7a[j]=this._itemsByIdentity[_7f];}else{for(var k=0;k<this._arrayOfAllItems.length;++k){var _80=this._arrayOfAllItems[k];var _81=true;for(var _82 in _7f){if(_80[_82]!=_7f[_82]){_81=false;}}if(_81){_7a[j]=_80;}}}if(this.referenceIntegrity){var _83=_7a[j];if(this.isItem(_83)){this._addReferenceToMap(_83,_77,key);}}}else{if(this.isItem(_79)){if(this.referenceIntegrity){this._addReferenceToMap(_79,_77,key);}}}}}}}},_addReferenceToMap:function(_84,_85,_86){},getIdentity:function(_87){var _88=this._features["dojo.data.api.Identity"];if(_88===Number){return _87[this._itemNumPropName];}else{var _89=_87[_88];if(_89){return _89[0];}}return null;},fetchItemByIdentity:function(_8a){var _8b;var _8c;if(!this._loadFinished){var _8d=this;if(this._jsonFileUrl!==this._ccUrl){dojo.deprecated("dojo.data.ItemFileReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null&&this._jsonData==null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_8a});}else{this._loadInProgress=true;var _8e={url:_8d._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};var _8f=dojo.xhrGet(_8e);_8f.addCallback(function(_90){var _91=_8a.scope?_8a.scope:dojo.global;try{_8d._getItemsFromLoadedData(_90);_8d._loadFinished=true;_8d._loadInProgress=false;_8b=_8d._getItemByIdentity(_8a.identity);if(_8a.onItem){_8a.onItem.call(_91,_8b);}_8d._handleQueuedFetches();}catch(error){_8d._loadInProgress=false;if(_8a.onError){_8a.onError.call(_91,error);}}});_8f.addErrback(function(_92){_8d._loadInProgress=false;if(_8a.onError){var _93=_8a.scope?_8a.scope:dojo.global;_8a.onError.call(_93,_92);}});}}else{if(this._jsonData){_8d._getItemsFromLoadedData(_8d._jsonData);_8d._jsonData=null;_8d._loadFinished=true;_8b=_8d._getItemByIdentity(_8a.identity);if(_8a.onItem){_8c=_8a.scope?_8a.scope:dojo.global;_8a.onItem.call(_8c,_8b);}}}}else{_8b=this._getItemByIdentity(_8a.identity);if(_8a.onItem){_8c=_8a.scope?_8a.scope:dojo.global;_8a.onItem.call(_8c,_8b);}}},_getItemByIdentity:function(_94){var _95=null;if(this._itemsByIdentity){_95=this._itemsByIdentity[_94];}else{_95=this._arrayOfAllItems[_94];}if(_95===undefined){_95=null;}return _95;},getIdentityAttributes:function(_96){var _97=this._features["dojo.data.api.Identity"];if(_97===Number){return null;}else{return [_97];}},_forceLoad:function(){var _98=this;if(this._jsonFileUrl!==this._ccUrl){dojo.deprecated("dojo.data.ItemFileReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null&&this._jsonData==null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){var _99={url:this._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk,sync:true};var _9a=dojo.xhrGet(_99);_9a.addCallback(function(_9b){try{if(_98._loadInProgress!==true&&!_98._loadFinished){_98._getItemsFromLoadedData(_9b);_98._loadFinished=true;}else{if(_98._loadInProgress){throw new Error("dojo.data.ItemFileReadStore:  Unable to perform a synchronous load, an async load is in progress.");}}}catch(e){throw e;}});_9a.addErrback(function(_9c){throw _9c;});}else{if(this._jsonData){_98._getItemsFromLoadedData(_98._jsonData);_98._jsonData=null;_98._loadFinished=true;}}}});dojo.extend(dojo.data.ItemFileReadStore,dojo.data.util.simpleFetch);}if(!dojo._hasResource["dojo.parser"]){dojo._hasResource["dojo.parser"]=true;dojo.provide("dojo.parser");dojo.parser=new function(){var d=dojo;this._attrName=d._scopeName+"Type";this._query="["+this._attrName+"]";function _9d(_9e){if(d.isString(_9e)){return "string";}if(typeof _9e=="number"){return "number";}if(typeof _9e=="boolean"){return "boolean";}if(d.isFunction(_9e)){return "function";}if(d.isArray(_9e)){return "array";}if(_9e instanceof Date){return "date";}if(_9e instanceof d._Url){return "url";}return "object";};function _9f(_a0,_a1){switch(_a1){case "string":return _a0;case "number":return _a0.length?Number(_a0):NaN;case "boolean":return typeof _a0=="boolean"?_a0:!(_a0.toLowerCase()=="false");case "function":if(d.isFunction(_a0)){_a0=_a0.toString();_a0=d.trim(_a0.substring(_a0.indexOf("{")+1,_a0.length-1));}try{if(_a0.search(/[^\w\.]+/i)!=-1){return new Function(_a0);}else{return d.getObject(_a0,false);}}catch(e){return new Function();}case "array":return _a0?_a0.split(/\s*,\s*/):[];case "date":switch(_a0){case "":return new Date("");case "now":return new Date();default:return d.date.stamp.fromISOString(_a0);}case "url":return d.baseUrl+_a0;default:return d.fromJson(_a0);}};var _a2={};dojo.connect(dojo,"extend",function(){_a2={};});function _a3(_a4){if(!_a2[_a4]){var cls=d.getObject(_a4);if(!d.isFunction(cls)){throw new Error("Could not load class '"+_a4+"'. Did you spell the name correctly and use a full path, like 'dijit.form.Button'?");}var _a5=cls.prototype;var _a6={},_a7={};for(var _a8 in _a5){if(_a8.charAt(0)=="_"){continue;}if(_a8 in _a7){continue;}var _a9=_a5[_a8];_a6[_a8]=_9d(_a9);}_a2[_a4]={cls:cls,params:_a6};}return _a2[_a4];};this._functionFromScript=function(_aa){var _ab="";var _ac="";var _ad=_aa.getAttribute("args");if(_ad){d.forEach(_ad.split(/\s*,\s*/),function(_ae,idx){_ab+="var "+_ae+" = arguments["+idx+"]; ";});}var _af=_aa.getAttribute("with");if(_af&&_af.length){d.forEach(_af.split(/\s*,\s*/),function(_b0){_ab+="with("+_b0+"){";_ac+="}";});}return new Function(_ab+_aa.innerHTML+_ac);};this.instantiate=function(_b1,_b2,_b3){var _b4=[],dp=dojo.parser;_b2=_b2||{};_b3=_b3||{};d.forEach(_b1,function(_b5){if(!_b5){return;}var _b6=dp._attrName in _b2?_b2[dp._attrName]:_b5.getAttribute(dp._attrName);if(!_b6||!_b6.length){return;}var _b7=_a3(_b6),_b8=_b7.cls,ps=_b8._noScript||_b8.prototype._noScript;var _b9={},_ba=_b5.attributes;for(var _bb in _b7.params){var _bc=_bb in _b2?{value:_b2[_bb],specified:true}:_ba.getNamedItem(_bb);if(!_bc||(!_bc.specified&&(!dojo.isIE||_bb.toLowerCase()!="value"))){continue;}var _bd=_bc.value;switch(_bb){case "class":_bd="className" in _b2?_b2.className:_b5.className;break;case "style":_bd="style" in _b2?_b2.style:(_b5.style&&_b5.style.cssText);}var _be=_b7.params[_bb];if(typeof _bd=="string"){_b9[_bb]=_9f(_bd,_be);}else{_b9[_bb]=_bd;}}if(!ps){var _bf=[],_c0=[];d.query("> script[type^='dojo/']",_b5).orphan().forEach(function(_c1){var _c2=_c1.getAttribute("event"),_b6=_c1.getAttribute("type"),nf=d.parser._functionFromScript(_c1);if(_c2){if(_b6=="dojo/connect"){_bf.push({event:_c2,func:nf});}else{_b9[_c2]=nf;}}else{_c0.push(nf);}});}var _c3=_b8.markupFactory||_b8.prototype&&_b8.prototype.markupFactory;var _c4=_c3?_c3(_b9,_b5,_b8):new _b8(_b9,_b5);_b4.push(_c4);var _c5=_b5.getAttribute("jsId");if(_c5){d.setObject(_c5,_c4);}if(!ps){d.forEach(_bf,function(_c6){d.connect(_c4,_c6.event,null,_c6.func);});d.forEach(_c0,function(_c7){_c7.call(_c4);});}});if(!_b2._started){d.forEach(_b4,function(_c8){if(!_b3.noStart&&_c8&&_c8.startup&&!_c8._started&&(!_c8.getParent||!_c8.getParent())){_c8.startup();}});}return _b4;};this.parse=function(_c9,_ca){var _cb;if(!_ca&&_c9&&_c9.rootNode){_ca=_c9;_cb=_ca.rootNode;}else{_cb=_c9;}var _cc=d.query(this._query,_cb);return this.instantiate(_cc,null,_ca);};}();(function(){var _cd=function(){if(dojo.config.parseOnLoad){dojo.parser.parse();}};if(dojo.exists("dijit.wai.onload")&&(dijit.wai.onload===dojo._loaders[0])){dojo._loaders.splice(1,0,_cd);}else{dojo._loaders.unshift(_cd);}})();}if(!dojo._hasResource["dojox.gfx.matrix"]){dojo._hasResource["dojox.gfx.matrix"]=true;dojo.provide("dojox.gfx.matrix");(function(){var m=dojox.gfx.matrix;var _ce={};m._degToRad=function(_cf){return _ce[_cf]||(_ce[_cf]=(Math.PI*_cf/180));};m._radToDeg=function(_d0){return _d0/Math.PI*180;};m.Matrix2D=function(arg){if(arg){if(typeof arg=="number"){this.xx=this.yy=arg;}else{if(arg instanceof Array){if(arg.length>0){var _d1=m.normalize(arg[0]);for(var i=1;i<arg.length;++i){var l=_d1,r=dojox.gfx.matrix.normalize(arg[i]);_d1=new m.Matrix2D();_d1.xx=l.xx*r.xx+l.xy*r.yx;_d1.xy=l.xx*r.xy+l.xy*r.yy;_d1.yx=l.yx*r.xx+l.yy*r.yx;_d1.yy=l.yx*r.xy+l.yy*r.yy;_d1.dx=l.xx*r.dx+l.xy*r.dy+l.dx;_d1.dy=l.yx*r.dx+l.yy*r.dy+l.dy;}dojo.mixin(this,_d1);}}else{dojo.mixin(this,arg);}}}};dojo.extend(m.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});dojo.mixin(m,{identity:new m.Matrix2D(),flipX:new m.Matrix2D({xx:-1}),flipY:new m.Matrix2D({yy:-1}),flipXY:new m.Matrix2D({xx:-1,yy:-1}),translate:function(a,b){if(arguments.length>1){return new m.Matrix2D({dx:a,dy:b});}return new m.Matrix2D({dx:a.x,dy:a.y});},scale:function(a,b){if(arguments.length>1){return new m.Matrix2D({xx:a,yy:b});}if(typeof a=="number"){return new m.Matrix2D({xx:a,yy:a});}return new m.Matrix2D({xx:a.x,yy:a.y});},rotate:function(_d2){var c=Math.cos(_d2);var s=Math.sin(_d2);return new m.Matrix2D({xx:c,xy:-s,yx:s,yy:c});},rotateg:function(_d3){return m.rotate(m._degToRad(_d3));},skewX:function(_d4){return new m.Matrix2D({xy:Math.tan(_d4)});},skewXg:function(_d5){return m.skewX(m._degToRad(_d5));},skewY:function(_d6){return new m.Matrix2D({yx:Math.tan(_d6)});},skewYg:function(_d7){return m.skewY(m._degToRad(_d7));},reflect:function(a,b){if(arguments.length==1){b=a.y;a=a.x;}var a2=a*a,b2=b*b,n2=a2+b2,xy=2*a*b/n2;return new m.Matrix2D({xx:2*a2/n2-1,xy:xy,yx:xy,yy:2*b2/n2-1});},project:function(a,b){if(arguments.length==1){b=a.y;a=a.x;}var a2=a*a,b2=b*b,n2=a2+b2,xy=a*b/n2;return new m.Matrix2D({xx:a2/n2,xy:xy,yx:xy,yy:b2/n2});},normalize:function(_d8){return (_d8 instanceof m.Matrix2D)?_d8:new m.Matrix2D(_d8);},clone:function(_d9){var obj=new m.Matrix2D();for(var i in _d9){if(typeof (_d9[i])=="number"&&typeof (obj[i])=="number"&&obj[i]!=_d9[i]){obj[i]=_d9[i];}}return obj;},invert:function(_da){var M=m.normalize(_da),D=M.xx*M.yy-M.xy*M.yx,M=new m.Matrix2D({xx:M.yy/D,xy:-M.xy/D,yx:-M.yx/D,yy:M.xx/D,dx:(M.xy*M.dy-M.yy*M.dx)/D,dy:(M.yx*M.dx-M.xx*M.dy)/D});return M;},_multiplyPoint:function(_db,x,y){return {x:_db.xx*x+_db.xy*y+_db.dx,y:_db.yx*x+_db.yy*y+_db.dy};},multiplyPoint:function(_dc,a,b){var M=m.normalize(_dc);if(typeof a=="number"&&typeof b=="number"){return m._multiplyPoint(M,a,b);}return m._multiplyPoint(M,a.x,a.y);},multiply:function(_dd){var M=m.normalize(_dd);for(var i=1;i<arguments.length;++i){var l=M,r=m.normalize(arguments[i]);M=new m.Matrix2D();M.xx=l.xx*r.xx+l.xy*r.yx;M.xy=l.xx*r.xy+l.xy*r.yy;M.yx=l.yx*r.xx+l.yy*r.yx;M.yy=l.yx*r.xy+l.yy*r.yy;M.dx=l.xx*r.dx+l.xy*r.dy+l.dx;M.dy=l.yx*r.dx+l.yy*r.dy+l.dy;}return M;},_sandwich:function(_de,x,y){return m.multiply(m.translate(x,y),_de,m.translate(-x,-y));},scaleAt:function(a,b,c,d){switch(arguments.length){case 4:return m._sandwich(m.scale(a,b),c,d);case 3:if(typeof c=="number"){return m._sandwich(m.scale(a),b,c);}return m._sandwich(m.scale(a,b),c.x,c.y);}return m._sandwich(m.scale(a),b.x,b.y);},rotateAt:function(_df,a,b){if(arguments.length>2){return m._sandwich(m.rotate(_df),a,b);}return m._sandwich(m.rotate(_df),a.x,a.y);},rotategAt:function(_e0,a,b){if(arguments.length>2){return m._sandwich(m.rotateg(_e0),a,b);}return m._sandwich(m.rotateg(_e0),a.x,a.y);},skewXAt:function(_e1,a,b){if(arguments.length>2){return m._sandwich(m.skewX(_e1),a,b);}return m._sandwich(m.skewX(_e1),a.x,a.y);},skewXgAt:function(_e2,a,b){if(arguments.length>2){return m._sandwich(m.skewXg(_e2),a,b);}return m._sandwich(m.skewXg(_e2),a.x,a.y);},skewYAt:function(_e3,a,b){if(arguments.length>2){return m._sandwich(m.skewY(_e3),a,b);}return m._sandwich(m.skewY(_e3),a.x,a.y);},skewYgAt:function(_e4,a,b){if(arguments.length>2){return m._sandwich(m.skewYg(_e4),a,b);}return m._sandwich(m.skewYg(_e4),a.x,a.y);}});})();dojox.gfx.Matrix2D=dojox.gfx.matrix.Matrix2D;}if(!dojo._hasResource["dojox.gfx._base"]){dojo._hasResource["dojox.gfx._base"]=true;dojo.provide("dojox.gfx._base");(function(){var g=dojox.gfx,b=g._base;g._hasClass=function(_e5,_e6){var cls=_e5.getAttribute("className");return cls&&(" "+cls+" ").indexOf(" "+_e6+" ")>=0;};g._addClass=function(_e7,_e8){var cls=_e7.getAttribute("className")||"";if(!cls||(" "+cls+" ").indexOf(" "+_e8+" ")<0){_e7.setAttribute("className",cls+(cls?" ":"")+_e8);}};g._removeClass=function(_e9,_ea){var cls=_e9.getAttribute("className");if(cls){_e9.setAttribute("className",cls.replace(new RegExp("(^|\\s+)"+_ea+"(\\s+|$)"),"$1$2"));}};b._getFontMeasurements=function(){var _eb={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,"small":0,"medium":0,"large":0,"x-large":0,"xx-large":0};if(dojo.isIE){dojo.doc.documentElement.style.fontSize="100%";}var div=dojo.doc.createElement("div");var s=div.style;s.position="absolute";s.left="-100px";s.top="0px";s.width="30px";s.height="1000em";s.border="0px";s.margin="0px";s.padding="0px";s.outline="none";s.lineHeight="1";s.overflow="hidden";dojo.body().appendChild(div);for(var p in _eb){div.style.fontSize=p;_eb[p]=Math.round(div.offsetHeight*12/16)*16/12/1000;}dojo.body().removeChild(div);div=null;return _eb;};var _ec=null;b._getCachedFontMeasurements=function(_ed){if(_ed||!_ec){_ec=b._getFontMeasurements();}return _ec;};var _ee=null,_ef={};b._getTextBox=function(_f0,_f1,_f2){var m,s,al=arguments.length;if(!_ee){m=_ee=dojo.doc.createElement("div");s=m.style;s.position="absolute";s.left="-10000px";s.top="0";dojo.body().appendChild(m);}else{m=_ee;s=m.style;}m.className="";s.border="0";s.margin="0";s.padding="0";s.outline="0";if(al>1&&_f1){for(var i in _f1){if(i in _ef){continue;}s[i]=_f1[i];}}if(al>2&&_f2){m.className=_f2;}m.innerHTML=_f0;if(m["getBoundingClientRect"]){var bcr=m.getBoundingClientRect();return {l:bcr.left,t:bcr.top,w:bcr.width||(bcr.right-bcr.left),h:bcr.height||(bcr.bottom-bcr.top)};}else{return dojo.marginBox(m);}};var _f3=0;b._getUniqueId=function(){var id;do{id=dojo._scopeName+"Unique"+(++_f3);}while(dojo.byId(id));return id;};})();dojo.mixin(dojox.gfx,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:(function(){var _f4={};return function(_f5){var t=_f4[_f5];if(t){return new t();}t=_f4[_f5]=new Function;t.prototype=dojox.gfx["default"+_f5];return new t();};})(),normalizeColor:function(_f6){return (_f6 instanceof dojo.Color)?_f6:new dojo.Color(_f6);},normalizeParameters:function(_f7,_f8){if(_f8){var _f9={};for(var x in _f7){if(x in _f8&&!(x in _f9)){_f7[x]=_f8[x];}}}return _f7;},makeParameters:function(_fa,_fb){if(!_fb){return dojo.delegate(_fa);}var _fc={};for(var i in _fa){if(!(i in _fc)){_fc[i]=dojo.clone((i in _fb)?_fb[i]:_fa[i]);}}return _fc;},formatNumber:function(x,_fd){var val=x.toString();if(val.indexOf("e")>=0){val=x.toFixed(4);}else{var _fe=val.indexOf(".");if(_fe>=0&&val.length-_fe>5){val=x.toFixed(4);}}if(x<0){return val;}return _fd?" "+val:val;},makeFontString:function(_ff){return _ff.style+" "+_ff.variant+" "+_ff.weight+" "+_ff.size+" "+_ff.family;},splitFontString:function(str){var font=dojox.gfx.getDefault("Font");var t=str.split(/\s+/);do{if(t.length<5){break;}font.style=t[0];font.variant=t[1];font.weight=t[2];var i=t[3].indexOf("/");font.size=i<0?t[3]:t[3].substring(0,i);var j=4;if(i<0){if(t[4]=="/"){j=6;}else{if(t[4].charAt(0)=="/"){j=5;}}}if(j<t.length){font.family=t.slice(j).join(" ");}}while(false);return font;},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return dojox.gfx._base._getCachedFontMeasurements()["12pt"]/12;},pt2px:function(len){return len*dojox.gfx.px_in_pt();},px2pt:function(len){return len/dojox.gfx.px_in_pt();},normalizedLength:function(len){if(len.length==0){return 0;}if(len.length>2){var _100=dojox.gfx.px_in_pt();var val=parseFloat(len);switch(len.slice(-2)){case "px":return val;case "pt":return val*_100;case "in":return val*72*_100;case "pc":return val*12*_100;case "mm":return val*dojox.gfx.mm_in_pt*_100;case "cm":return val*dojox.gfx.cm_in_pt*_100;}}return parseFloat(len);},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-Za-z])|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,equalSources:function(a,b){return a&&b&&a==b;}});}if(!dojo._hasResource["dojox.gfx"]){dojo._hasResource["dojox.gfx"]=true;dojo.provide("dojox.gfx");dojo.loadInit(function(){var gfx=dojo.getObject("dojox.gfx",true),sl,flag,_101;if(!gfx.renderer){if(dojo.config.forceGfxRenderer){dojox.gfx.renderer=dojo.config.forceGfxRenderer;return;}var _102=(typeof dojo.config.gfxRenderer=="string"?dojo.config.gfxRenderer:"svg,vml,silverlight,canvas").split(",");var ua=navigator.userAgent,_103=0,_104=0;if(dojo.isSafari>=3){if(ua.indexOf("iPhone")>=0||ua.indexOf("iPod")>=0){_101=ua.match(/Version\/(\d(\.\d)?(\.\d)?)\sMobile\/([^\s]*)\s?/);if(_101){_103=parseInt(_101[4].substr(0,3),16);}}}if(dojo.isWebKit){if(!_103){_101=ua.match(/Android\s+(\d+\.\d+)/);if(_101){_104=parseFloat(_101[1]);}}}for(var i=0;i<_102.length;++i){switch(_102[i]){case "svg":if(!dojo.isIE&&(!_103||_103>=1521)&&!_104&&!dojo.isAIR){dojox.gfx.renderer="svg";}break;case "vml":if(dojo.isIE){dojox.gfx.renderer="vml";}break;case "silverlight":try{if(dojo.isIE){sl=new ActiveXObject("AgControl.AgControl");if(sl&&sl.IsVersionSupported("1.0")){flag=true;}}else{if(navigator.plugins["Silverlight Plug-In"]){flag=true;}}}catch(e){flag=false;}finally{sl=null;}if(flag){dojox.gfx.renderer="silverlight";}break;case "canvas":if(!dojo.isIE){dojox.gfx.renderer="canvas";}break;}if(dojox.gfx.renderer){break;}}if(dojo.config.isDebug){}}});dojo.requireIf(dojox.gfx.renderer=="svg","dojox.gfx.svg");dojo.requireIf(dojox.gfx.renderer=="vml","dojox.gfx.vml");dojo.requireIf(dojox.gfx.renderer=="silverlight","dojox.gfx.silverlight");dojo.requireIf(dojox.gfx.renderer=="canvas","dojox.gfx.canvas");}if(!dojo._hasResource["dojox.lang.functional.lambda"]){dojo._hasResource["dojox.lang.functional.lambda"]=true;dojo.provide("dojox.lang.functional.lambda");(function(){var df=dojox.lang.functional,_105={};var _106="ab".split(/a*/).length>1?String.prototype.split:function(sep){var r=this.split.call(this,sep),m=sep.exec(this);if(m&&m.index==0){r.unshift("");}return r;};var _107=function(s){var args=[],_108=_106.call(s,/\s*->\s*/m);if(_108.length>1){while(_108.length){s=_108.pop();args=_108.pop().split(/\s*,\s*|\s+/m);if(_108.length){_108.push("(function("+args+"){return ("+s+")})");}}}else{if(s.match(/\b_\b/)){args=["_"];}else{var l=s.match(/^\s*(?:[+*\/%&|\^\.=<>]|!=)/m),r=s.match(/[+\-*\/%&|\^\.=<>!]\s*$/m);if(l||r){if(l){args.push("$1");s="$1"+s;}if(r){args.push("$2");s=s+"$2";}}else{var vars=s.replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*:|this|true|false|null|undefined|typeof|instanceof|in|delete|new|void|arguments|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|escape|eval|isFinite|isNaN|parseFloat|parseInt|unescape|dojo|dijit|dojox|window|document|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,"").match(/([a-z_$][a-z_$\d]*)/gi)||[],t={};dojo.forEach(vars,function(v){if(!(v in t)){args.push(v);t[v]=1;}});}}}return {args:args,body:s};};var _109=function(a){return a.length?function(){var i=a.length-1,x=df.lambda(a[i]).apply(this,arguments);for(--i;i>=0;--i){x=df.lambda(a[i]).call(this,x);}return x;}:function(x){return x;};};dojo.mixin(df,{rawLambda:function(s){return _107(s);},buildLambda:function(s){s=_107(s);return "function("+s.args.join(",")+"){return ("+s.body+");}";},lambda:function(s){if(typeof s=="function"){return s;}if(s instanceof Array){return _109(s);}if(s in _105){return _105[s];}s=_107(s);return _105[s]=new Function(s.args,"return ("+s.body+");");},clearLambdaCache:function(){_105={};}});})();}if(!dojo._hasResource["dojox.lang.functional.array"]){dojo._hasResource["dojox.lang.functional.array"]=true;dojo.provide("dojox.lang.functional.array");(function(){var d=dojo,df=dojox.lang.functional,_10a={};d.mixin(df,{filter:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var t=[],v,i,n;if(d.isArray(a)){for(i=0,n=a.length;i<n;++i){v=a[i];if(f.call(o,v,i,a)){t.push(v);}}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();){v=a.next();if(f.call(o,v,i++,a)){t.push(v);}}}else{for(i in a){if(!(i in _10a)){v=a[i];if(f.call(o,v,i,a)){t.push(v);}}}}}return t;},forEach:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var i,n;if(d.isArray(a)){for(i=0,n=a.length;i<n;f.call(o,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();f.call(o,a.next(),i++,a)){}}else{for(i in a){if(!(i in _10a)){f.call(o,a[i],i,a);}}}}return o;},map:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var t,n,i;if(d.isArray(a)){t=new Array(n=a.length);for(i=0;i<n;t[i]=f.call(o,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){t=[];for(i=0;a.hasNext();t.push(f.call(o,a.next(),i++,a))){}}else{t=[];for(i in a){if(!(i in _10a)){t.push(f.call(o,a[i],i,a));}}}}return t;},every:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var i,n;if(d.isArray(a)){for(i=0,n=a.length;i<n;++i){if(!f.call(o,a[i],i,a)){return false;}}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();){if(!f.call(o,a.next(),i++,a)){return false;}}}else{for(i in a){if(!(i in _10a)){if(!f.call(o,a[i],i,a)){return false;}}}}}return true;},some:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var i,n;if(d.isArray(a)){for(i=0,n=a.length;i<n;++i){if(f.call(o,a[i],i,a)){return true;}}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();){if(f.call(o,a.next(),i++,a)){return true;}}}else{for(i in a){if(!(i in _10a)){if(f.call(o,a[i],i,a)){return true;}}}}}return false;}});})();}if(!dojo._hasResource["dojox.lang.functional.object"]){dojo._hasResource["dojox.lang.functional.object"]=true;dojo.provide("dojox.lang.functional.object");(function(){var d=dojo,df=dojox.lang.functional,_10b={};d.mixin(df,{keys:function(obj){var t=[];for(var i in obj){if(!(i in _10b)){t.push(i);}}return t;},values:function(obj){var t=[];for(var i in obj){if(!(i in _10b)){t.push(obj[i]);}}return t;},filterIn:function(obj,f,o){o=o||d.global;f=df.lambda(f);var t={},v,i;for(i in obj){if(!(i in _10b)){v=obj[i];if(f.call(o,v,i,obj)){t[i]=v;}}}return t;},forIn:function(obj,f,o){o=o||d.global;f=df.lambda(f);for(var i in obj){if(!(i in _10b)){f.call(o,obj[i],i,obj);}}return o;},mapIn:function(obj,f,o){o=o||d.global;f=df.lambda(f);var t={},i;for(i in obj){if(!(i in _10b)){t[i]=f.call(o,obj[i],i,obj);}}return t;}});})();}if(!dojo._hasResource["dojox.lang.functional"]){dojo._hasResource["dojox.lang.functional"]=true;dojo.provide("dojox.lang.functional");}if(!dojo._hasResource["dojox.lang.functional.fold"]){dojo._hasResource["dojox.lang.functional.fold"]=true;dojo.provide("dojox.lang.functional.fold");(function(){var d=dojo,df=dojox.lang.functional,_10c={};d.mixin(df,{foldl:function(a,f,z,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var i,n;if(d.isArray(a)){for(i=0,n=a.length;i<n;z=f.call(o,z,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();z=f.call(o,z,a.next(),i++,a)){}}else{for(i in a){if(!(i in _10c)){z=f.call(o,z,a[i],i,a);}}}}return z;},foldl1:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var z,i,n;if(d.isArray(a)){z=a[0];for(i=1,n=a.length;i<n;z=f.call(o,z,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){if(a.hasNext()){z=a.next();for(i=1;a.hasNext();z=f.call(o,z,a.next(),i++,a)){}}}else{var _10d=true;for(i in a){if(!(i in _10c)){if(_10d){z=a[i];_10d=false;}else{z=f.call(o,z,a[i],i,a);}}}}}return z;},foldr:function(a,f,z,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);for(var i=a.length;i>0;--i,z=f.call(o,z,a[i],i,a)){}return z;},foldr1:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var n=a.length,z=a[n-1],i=n-1;for(;i>0;--i,z=f.call(o,z,a[i],i,a)){}return z;},reduce:function(a,f,z){return arguments.length<3?df.foldl1(a,f):df.foldl(a,f,z);},reduceRight:function(a,f,z){return arguments.length<3?df.foldr1(a,f):df.foldr(a,f,z);},unfold:function(pr,f,g,z,o){o=o||d.global;f=df.lambda(f);g=df.lambda(g);pr=df.lambda(pr);var t=[];for(;!pr.call(o,z);t.push(f.call(o,z)),z=g.call(o,z)){}return t;}});})();}if(!dojo._hasResource["dojox.lang.functional.reversed"]){dojo._hasResource["dojox.lang.functional.reversed"]=true;dojo.provide("dojox.lang.functional.reversed");(function(){var d=dojo,df=dojox.lang.functional;d.mixin(df,{filterRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var t=[],v,i=a.length-1;for(;i>=0;--i){v=a[i];if(f.call(o,v,i,a)){t.push(v);}}return t;},forEachRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);for(var i=a.length-1;i>=0;f.call(o,a[i],i,a),--i){}},mapRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var n=a.length,t=new Array(n),i=n-1,j=0;for(;i>=0;t[j++]=f.call(o,a[i],i,a),--i){}return t;},everyRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);for(var i=a.length-1;i>=0;--i){if(!f.call(o,a[i],i,a)){return false;}}return true;},someRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);for(var i=a.length-1;i>=0;--i){if(f.call(o,a[i],i,a)){return true;}}return false;}});})();}if(!dojo._hasResource["dojo.colors"]){dojo._hasResource["dojo.colors"]=true;dojo.provide("dojo.colors");(function(){var _10e=function(m1,m2,h){if(h<0){++h;}if(h>1){--h;}var h6=6*h;if(h6<1){return m1+(m2-m1)*h6;}if(2*h<1){return m2;}if(3*h<2){return m1+(m2-m1)*(2/3-h)*6;}return m1;};dojo.colorFromRgb=function(_10f,obj){var m=_10f.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(m){var c=m[2].split(/\s*,\s*/),l=c.length,t=m[1],a;if((t=="rgb"&&l==3)||(t=="rgba"&&l==4)){var r=c[0];if(r.charAt(r.length-1)=="%"){a=dojo.map(c,function(x){return parseFloat(x)*2.56;});if(l==4){a[3]=c[3];}return dojo.colorFromArray(a,obj);}return dojo.colorFromArray(c,obj);}if((t=="hsl"&&l==3)||(t=="hsla"&&l==4)){var H=((parseFloat(c[0])%360)+360)%360/360,S=parseFloat(c[1])/100,L=parseFloat(c[2])/100,m2=L<=0.5?L*(S+1):L+S-L*S,m1=2*L-m2;a=[_10e(m1,m2,H+1/3)*256,_10e(m1,m2,H)*256,_10e(m1,m2,H-1/3)*256,1];if(l==4){a[3]=c[3];}return dojo.colorFromArray(a,obj);}}return null;};var _110=function(c,low,high){c=Number(c);return isNaN(c)?high:c<low?low:c>high?high:c;};dojo.Color.prototype.sanitize=function(){var t=this;t.r=Math.round(_110(t.r,0,255));t.g=Math.round(_110(t.g,0,255));t.b=Math.round(_110(t.b,0,255));t.a=_110(t.a,0,1);return this;};})();dojo.colors.makeGrey=function(g,a){return dojo.colorFromArray([g,g,g,a]);};dojo.mixin(dojo.Color.named,{aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],transparent:[0,0,0,0],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]});}if(!dojo._hasResource["dojox.color._base"]){dojo._hasResource["dojox.color._base"]=true;dojo.provide("dojox.color._base");dojox.color.Color=dojo.Color;dojox.color.blend=dojo.blendColors;dojox.color.fromRgb=dojo.colorFromRgb;dojox.color.fromHex=dojo.colorFromHex;dojox.color.fromArray=dojo.colorFromArray;dojox.color.fromString=dojo.colorFromString;dojox.color.greyscale=dojo.colors.makeGrey;dojo.mixin(dojox.color,{fromCmy:function(cyan,_111,_112){if(dojo.isArray(cyan)){_111=cyan[1],_112=cyan[2],cyan=cyan[0];}else{if(dojo.isObject(cyan)){_111=cyan.m,_112=cyan.y,cyan=cyan.c;}}cyan/=100,_111/=100,_112/=100;var r=1-cyan,g=1-_111,b=1-_112;return new dojox.color.Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromCmyk:function(cyan,_113,_114,_115){if(dojo.isArray(cyan)){_113=cyan[1],_114=cyan[2],_115=cyan[3],cyan=cyan[0];}else{if(dojo.isObject(cyan)){_113=cyan.m,_114=cyan.y,_115=cyan.b,cyan=cyan.c;}}cyan/=100,_113/=100,_114/=100,_115/=100;var r,g,b;r=1-Math.min(1,cyan*(1-_115)+_115);g=1-Math.min(1,_113*(1-_115)+_115);b=1-Math.min(1,_114*(1-_115)+_115);return new dojox.color.Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromHsl:function(hue,_116,_117){if(dojo.isArray(hue)){_116=hue[1],_117=hue[2],hue=hue[0];}else{if(dojo.isObject(hue)){_116=hue.s,_117=hue.l,hue=hue.h;}}_116/=100;_117/=100;while(hue<0){hue+=360;}while(hue>=360){hue-=360;}var r,g,b;if(hue<120){r=(120-hue)/60,g=hue/60,b=0;}else{if(hue<240){r=0,g=(240-hue)/60,b=(hue-120)/60;}else{r=(hue-240)/60,g=0,b=(360-hue)/60;}}r=2*_116*Math.min(r,1)+(1-_116);g=2*_116*Math.min(g,1)+(1-_116);b=2*_116*Math.min(b,1)+(1-_116);if(_117<0.5){r*=_117,g*=_117,b*=_117;}else{r=(1-_117)*r+2*_117-1;g=(1-_117)*g+2*_117-1;b=(1-_117)*b+2*_117-1;}return new dojox.color.Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromHsv:function(hue,_118,_119){if(dojo.isArray(hue)){_118=hue[1],_119=hue[2],hue=hue[0];}else{if(dojo.isObject(hue)){_118=hue.s,_119=hue.v,hue=hue.h;}}if(hue==360){hue=0;}_118/=100;_119/=100;var r,g,b;if(_118==0){r=_119,b=_119,g=_119;}else{var _11a=hue/60,i=Math.floor(_11a),f=_11a-i;var p=_119*(1-_118);var q=_119*(1-(_118*f));var t=_119*(1-(_118*(1-f)));switch(i){case 0:r=_119,g=t,b=p;break;case 1:r=q,g=_119,b=p;break;case 2:r=p,g=_119,b=t;break;case 3:r=p,g=q,b=_119;break;case 4:r=t,g=p,b=_119;break;case 5:r=_119,g=p,b=q;break;}}return new dojox.color.Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});}});dojo.extend(dojox.color.Color,{toCmy:function(){var cyan=1-(this.r/255),_11b=1-(this.g/255),_11c=1-(this.b/255);return {c:Math.round(cyan*100),m:Math.round(_11b*100),y:Math.round(_11c*100)};},toCmyk:function(){var cyan,_11d,_11e,_11f;var r=this.r/255,g=this.g/255,b=this.b/255;_11f=Math.min(1-r,1-g,1-b);cyan=(1-r-_11f)/(1-_11f);_11d=(1-g-_11f)/(1-_11f);_11e=(1-b-_11f)/(1-_11f);return {c:Math.round(cyan*100),m:Math.round(_11d*100),y:Math.round(_11e*100),b:Math.round(_11f*100)};},toHsl:function(){var r=this.r/255,g=this.g/255,b=this.b/255;var min=Math.min(r,b,g),max=Math.max(r,g,b);var _120=max-min;var h=0,s=0,l=(min+max)/2;if(l>0&&l<1){s=_120/((l<0.5)?(2*l):(2-2*l));}if(_120>0){if(max==r&&max!=g){h+=(g-b)/_120;}if(max==g&&max!=b){h+=(2+(b-r)/_120);}if(max==b&&max!=r){h+=(4+(r-g)/_120);}h*=60;}return {h:h,s:Math.round(s*100),l:Math.round(l*100)};},toHsv:function(){var r=this.r/255,g=this.g/255,b=this.b/255;var min=Math.min(r,b,g),max=Math.max(r,g,b);var _121=max-min;var h=null,s=(max==0)?0:(_121/max);if(s==0){h=0;}else{if(r==max){h=60*(g-b)/_121;}else{if(g==max){h=120+60*(b-r)/_121;}else{h=240+60*(r-g)/_121;}}if(h<0){h+=360;}}return {h:h,s:Math.round(s*100),v:Math.round(max*100)};}});}if(!dojo._hasResource["dojox.color"]){dojo._hasResource["dojox.color"]=true;dojo.provide("dojox.color");}if(!dojo._hasResource["dojox.color.Palette"]){dojo._hasResource["dojox.color.Palette"]=true;dojo.provide("dojox.color.Palette");(function(){var dxc=dojox.color;dxc.Palette=function(base){this.colors=[];if(base instanceof dojox.color.Palette){this.colors=base.colors.slice(0);}else{if(base instanceof dojox.color.Color){this.colors=[null,null,base,null,null];}else{if(dojo.isArray(base)){this.colors=dojo.map(base.slice(0),function(item){if(dojo.isString(item)){return new dojox.color.Color(item);}return item;});}else{if(dojo.isString(base)){this.colors=[null,null,new dojox.color.Color(base),null,null];}}}}};function _122(p,_123,val){var ret=new dojox.color.Palette();ret.colors=[];dojo.forEach(p.colors,function(item){var r=(_123=="dr")?item.r+val:item.r,g=(_123=="dg")?item.g+val:item.g,b=(_123=="db")?item.b+val:item.b,a=(_123=="da")?item.a+val:item.a;ret.colors.push(new dojox.color.Color({r:Math.min(255,Math.max(0,r)),g:Math.min(255,Math.max(0,g)),b:Math.min(255,Math.max(0,b)),a:Math.min(1,Math.max(0,a))}));});return ret;};function tCMY(p,_124,val){var ret=new dojox.color.Palette();ret.colors=[];dojo.forEach(p.colors,function(item){var o=item.toCmy(),c=(_124=="dc")?o.c+val:o.c,m=(_124=="dm")?o.m+val:o.m,y=(_124=="dy")?o.y+val:o.y;ret.colors.push(dojox.color.fromCmy(Math.min(100,Math.max(0,c)),Math.min(100,Math.max(0,m)),Math.min(100,Math.max(0,y))));});return ret;};function _125(p,_126,val){var ret=new dojox.color.Palette();ret.colors=[];dojo.forEach(p.colors,function(item){var o=item.toCmyk(),c=(_126=="dc")?o.c+val:o.c,m=(_126=="dm")?o.m+val:o.m,y=(_126=="dy")?o.y+val:o.y,k=(_126=="dk")?o.b+val:o.b;ret.colors.push(dojox.color.fromCmyk(Math.min(100,Math.max(0,c)),Math.min(100,Math.max(0,m)),Math.min(100,Math.max(0,y)),Math.min(100,Math.max(0,k))));});return ret;};function tHSL(p,_127,val){var ret=new dojox.color.Palette();ret.colors=[];dojo.forEach(p.colors,function(item){var o=item.toHsl(),h=(_127=="dh")?o.h+val:o.h,s=(_127=="ds")?o.s+val:o.s,l=(_127=="dl")?o.l+val:o.l;ret.colors.push(dojox.color.fromHsl(h%360,Math.min(100,Math.max(0,s)),Math.min(100,Math.max(0,l))));});return ret;};function tHSV(p,_128,val){var ret=new dojox.color.Palette();ret.colors=[];dojo.forEach(p.colors,function(item){var o=item.toHsv(),h=(_128=="dh")?o.h+val:o.h,s=(_128=="ds")?o.s+val:o.s,v=(_128=="dv")?o.v+val:o.v;ret.colors.push(dojox.color.fromHsv(h%360,Math.min(100,Math.max(0,s)),Math.min(100,Math.max(0,v))));});return ret;};function _129(val,low,high){return high-((high-val)*((high-low)/high));};dojo.extend(dxc.Palette,{transform:function(_12a){var fn=_122;if(_12a.use){var use=_12a.use.toLowerCase();if(use.indexOf("hs")==0){if(use.charAt(2)=="l"){fn=tHSL;}else{fn=tHSV;}}else{if(use.indexOf("cmy")==0){if(use.charAt(3)=="k"){fn=_125;}else{fn=tCMY;}}}}else{if("dc" in _12a||"dm" in _12a||"dy" in _12a){if("dk" in _12a){fn=_125;}else{fn=tCMY;}}else{if("dh" in _12a||"ds" in _12a){if("dv" in _12a){fn=tHSV;}else{fn=tHSL;}}}}var _12b=this;for(var p in _12a){if(p=="use"){continue;}_12b=fn(_12b,p,_12a[p]);}return _12b;},clone:function(){return new dxc.Palette(this);}});dojo.mixin(dxc.Palette,{generators:{analogous:function(args){var high=args.high||60,low=args.low||18,base=dojo.isString(args.base)?new dojox.color.Color(args.base):args.base,hsv=base.toHsv();var h=[(hsv.h+low+360)%360,(hsv.h+Math.round(low/2)+360)%360,hsv.h,(hsv.h-Math.round(high/2)+360)%360,(hsv.h-high+360)%360];var s1=Math.max(10,(hsv.s<=95)?hsv.s+5:(100-(hsv.s-95))),s2=(hsv.s>1)?hsv.s-1:21-hsv.s,v1=(hsv.v>=92)?hsv.v-9:Math.max(hsv.v+9,20),v2=(hsv.v<=90)?Math.max(hsv.v+5,20):(95+Math.ceil((hsv.v-90)/2)),s=[s1,s2,hsv.s,s1,s1],v=[v1,v2,hsv.v,v1,v2];return new dxc.Palette(dojo.map(h,function(hue,i){return dojox.color.fromHsv(hue,s[i],v[i]);}));},monochromatic:function(args){var base=dojo.isString(args.base)?new dojox.color.Color(args.base):args.base,hsv=base.toHsv();var s1=(hsv.s-30>9)?hsv.s-30:hsv.s+30,s2=hsv.s,v1=_129(hsv.v,20,100),v2=(hsv.v-20>20)?hsv.v-20:hsv.v+60,v3=(hsv.v-50>20)?hsv.v-50:hsv.v+30;return new dxc.Palette([dojox.color.fromHsv(hsv.h,s1,v1),dojox.color.fromHsv(hsv.h,s2,v3),base,dojox.color.fromHsv(hsv.h,s1,v3),dojox.color.fromHsv(hsv.h,s2,v2)]);},triadic:function(args){var base=dojo.isString(args.base)?new dojox.color.Color(args.base):args.base,hsv=base.toHsv();var h1=(hsv.h+57+360)%360,h2=(hsv.h-157+360)%360,s1=(hsv.s>20)?hsv.s-10:hsv.s+10,s2=(hsv.s>90)?hsv.s-10:hsv.s+10,s3=(hsv.s>95)?hsv.s-5:hsv.s+5,v1=(hsv.v-20>20)?hsv.v-20:hsv.v+20,v2=(hsv.v-30>20)?hsv.v-30:hsv.v+30,v3=(hsv.v-30>70)?hsv.v-30:hsv.v+30;return new dxc.Palette([dojox.color.fromHsv(h1,s1,hsv.v),dojox.color.fromHsv(hsv.h,s2,v2),base,dojox.color.fromHsv(h2,s2,v1),dojox.color.fromHsv(h2,s3,v3)]);},complementary:function(args){var base=dojo.isString(args.base)?new dojox.color.Color(args.base):args.base,hsv=base.toHsv();var h1=((hsv.h*2)+137<360)?(hsv.h*2)+137:Math.floor(hsv.h/2)-137,s1=Math.max(hsv.s-10,0),s2=_129(hsv.s,10,100),s3=Math.min(100,hsv.s+20),v1=Math.min(100,hsv.v+30),v2=(hsv.v>20)?hsv.v-30:hsv.v+30;return new dxc.Palette([dojox.color.fromHsv(hsv.h,s1,v1),dojox.color.fromHsv(hsv.h,s2,v2),base,dojox.color.fromHsv(h1,s3,v2),dojox.color.fromHsv(h1,hsv.s,hsv.v)]);},splitComplementary:function(args){var base=dojo.isString(args.base)?new dojox.color.Color(args.base):args.base,_12c=args.da||30,hsv=base.toHsv();var _12d=((hsv.h*2)+137<360)?(hsv.h*2)+137:Math.floor(hsv.h/2)-137,h1=(_12d-_12c+360)%360,h2=(_12d+_12c)%360,s1=Math.max(hsv.s-10,0),s2=_129(hsv.s,10,100),s3=Math.min(100,hsv.s+20),v1=Math.min(100,hsv.v+30),v2=(hsv.v>20)?hsv.v-30:hsv.v+30;return new dxc.Palette([dojox.color.fromHsv(h1,s1,v1),dojox.color.fromHsv(h1,s2,v2),base,dojox.color.fromHsv(h2,s3,v2),dojox.color.fromHsv(h2,hsv.s,hsv.v)]);},compound:function(args){var base=dojo.isString(args.base)?new dojox.color.Color(args.base):args.base,hsv=base.toHsv();var h1=((hsv.h*2)+18<360)?(hsv.h*2)+18:Math.floor(hsv.h/2)-18,h2=((hsv.h*2)+120<360)?(hsv.h*2)+120:Math.floor(hsv.h/2)-120,h3=((hsv.h*2)+99<360)?(hsv.h*2)+99:Math.floor(hsv.h/2)-99,s1=(hsv.s-40>10)?hsv.s-40:hsv.s+40,s2=(hsv.s-10>80)?hsv.s-10:hsv.s+10,s3=(hsv.s-25>10)?hsv.s-25:hsv.s+25,v1=(hsv.v-40>10)?hsv.v-40:hsv.v+40,v2=(hsv.v-20>80)?hsv.v-20:hsv.v+20,v3=Math.max(hsv.v,20);return new dxc.Palette([dojox.color.fromHsv(h1,s1,v1),dojox.color.fromHsv(h1,s2,v2),base,dojox.color.fromHsv(h2,s3,v3),dojox.color.fromHsv(h3,s2,v2)]);},shades:function(args){var base=dojo.isString(args.base)?new dojox.color.Color(args.base):args.base,hsv=base.toHsv();var s=(hsv.s==100&&hsv.v==0)?0:hsv.s,v1=(hsv.v-50>20)?hsv.v-50:hsv.v+30,v2=(hsv.v-25>=20)?hsv.v-25:hsv.v+55,v3=(hsv.v-75>=20)?hsv.v-75:hsv.v+5,v4=Math.max(hsv.v-10,20);return new dxc.Palette([new dojox.color.fromHsv(hsv.h,s,v1),new dojox.color.fromHsv(hsv.h,s,v2),base,new dojox.color.fromHsv(hsv.h,s,v3),new dojox.color.fromHsv(hsv.h,s,v4)]);}},generate:function(base,type){if(dojo.isFunction(type)){return type({base:base});}else{if(dxc.Palette.generators[type]){return dxc.Palette.generators[type]({base:base});}}throw new Error("dojox.color.Palette.generate: the specified generator ('"+type+"') does not exist.");}});})();}if(!dojo._hasResource["dojox.charting.Theme"]){dojo._hasResource["dojox.charting.Theme"]=true;dojo.provide("dojox.charting.Theme");(function(){var dxc=dojox.charting;dxc.Theme=function(_12e){_12e=_12e||{};var def=dxc.Theme._def;dojo.forEach(["chart","plotarea","axis","series","marker"],function(n){this[n]=dojo.delegate(def[n],_12e[n]||{});},this);this.markers=dojo.delegate(dxc.Theme.Markers,_12e.markers||{});this.colors=[];this.antiAlias=("antiAlias" in _12e)?_12e.antiAlias:true;this.assignColors=("assignColors" in _12e)?_12e.assignColors:true;this.assignMarkers=("assignMarkers" in _12e)?_12e.assignMarkers:true;_12e.colors=_12e.colors||def.colors;dojo.forEach(_12e.colors,function(item){this.colors.push(item);},this);this._current={color:0,marker:0};this._markers=[];this._buildMarkerArray();};dxc.Theme.Markers={CIRCLE:"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",SQUARE:"m-3,-3 l0,6 6,0 0,-6 z",DIAMOND:"m0,-3 l3,3 -3,3 -3,-3 z",CROSS:"m0,-3 l0,6 m-3,-3 l6,0",X:"m-3,-3 l6,6 m0,-6 l-6,6",TRIANGLE:"m-3,3 l3,-6 3,6 z",TRIANGLE_INVERTED:"m-3,-3 l3,6 3,-6 z"};dxc.Theme._def={chart:{stroke:null,fill:"white"},plotarea:{stroke:null,fill:"white"},axis:{stroke:{color:"#333",width:1},majorTick:{color:"#666",width:1,length:6,position:"center"},minorTick:{color:"#666",width:0.8,length:3,position:"center"},microTick:{color:"#666",width:0.5,length:1,position:"center"},font:"normal normal normal 7pt Tahoma",fontColor:"#333"},series:{outline:{width:0.1,color:"#ccc"},stroke:{width:1.5,color:"#333"},fill:"#ccc",font:"normal normal normal 7pt Tahoma",fontColor:"#000"},marker:{stroke:{width:1},fill:"#333",font:"normal normal normal 7pt Tahoma",fontColor:"#000"},colors:["#54544c","#858e94","#6e767a","#948585","#474747"]};dojo.extend(dxc.Theme,{defineColors:function(obj){var _12f=obj||{};var c=[],n=_12f.num||5;if(_12f.colors){var l=_12f.colors.length;for(var i=0;i<n;i++){c.push(_12f.colors[i%l]);}this.colors=c;}else{if(_12f.hue){var s=_12f.saturation||100;var st=_12f.low||30;var end=_12f.high||90;var l=(end+st)/2;this.colors=dojox.color.Palette.generate(dojox.color.fromHsv(_12f.hue,s,l),"monochromatic").colors;}else{if(_12f.generator){this.colors=dojox.color.Palette.generate(_12f.base,_12f.generator).colors;}}}},_buildMarkerArray:function(){this._markers=[];for(var p in this.markers){this._markers.push(this.markers[p]);}this._current.marker=0;},_clone:function(){return new dxc.Theme({chart:this.chart,plotarea:this.plotarea,axis:this.axis,series:this.series,marker:this.marker,antiAlias:this.antiAlias,assignColors:this.assignColors,assignMarkers:this.assigneMarkers,colors:dojo.delegate(this.colors)});},addMarker:function(name,_130){this.markers[name]=_130;this._buildMarkerArray();},setMarkers:function(obj){this.markers=obj;this._buildMarkerArray();},next:function(type){if(type=="marker"){return this._markers[this._current.marker++%this._markers.length];}else{return this.colors[this._current.color++%this.colors.length];}},clear:function(){this._current={color:0,marker:0};}});})();}if(!dojo._hasResource["dojox.charting.Element"]){dojo._hasResource["dojox.charting.Element"]=true;dojo.provide("dojox.charting.Element");dojo.declare("dojox.charting.Element",null,{constructor:function(_131){this.chart=_131;this.group=null;this.htmlElements=[];this.dirty=true;},createGroup:function(_132){if(!_132){_132=this.chart.surface;}if(!this.group){this.group=_132.createGroup();}return this;},purgeGroup:function(){this.destroyHtmlElements();if(this.group){this.group.clear();this.group.removeShape();this.group=null;}this.dirty=true;return this;},cleanGroup:function(_133){this.destroyHtmlElements();if(!_133){_133=this.chart.surface;}if(this.group){this.group.clear();}else{this.group=_133.createGroup();}this.dirty=true;return this;},destroyHtmlElements:function(){if(this.htmlElements.length){dojo.forEach(this.htmlElements,dojo.destroy);this.htmlElements=[];}},destroy:function(){this.purgeGroup();}});}if(!dojo._hasResource["dojox.charting.Series"]){dojo._hasResource["dojox.charting.Series"]=true;dojo.provide("dojox.charting.Series");dojo.declare("dojox.charting.Series",dojox.charting.Element,{constructor:function(_134,data,_135){dojo.mixin(this,_135);if(typeof this.plot!="string"){this.plot="default";}this.data=data;this.dirty=true;this.clear();},clear:function(){this.dyn={};}});}if(!dojo._hasResource["dojox.charting.scaler.common"]){dojo._hasResource["dojox.charting.scaler.common"]=true;dojo.provide("dojox.charting.scaler.common");(function(){var eq=function(a,b){return Math.abs(a-b)<=0.000001*(Math.abs(a)+Math.abs(b));};dojo.mixin(dojox.charting.scaler.common,{findString:function(val,text){val=val.toLowerCase();for(var i=0;i<text.length;++i){if(val==text[i]){return true;}}return false;},getNumericLabel:function(_136,_137,_138){var def=_138.fixed?_136.toFixed(_137<0?-_137:0):_136.toString();if(_138.labelFunc){var r=_138.labelFunc(def,_136,_137);if(r){return r;}}if(_138.labels){var l=_138.labels,lo=0,hi=l.length;while(lo<hi){var mid=Math.floor((lo+hi)/2),val=l[mid].value;if(val<_136){lo=mid+1;}else{hi=mid;}}if(lo<l.length&&eq(l[lo].value,_136)){return l[lo].text;}--lo;if(lo>=0&&lo<l.length&&eq(l[lo].value,_136)){return l[lo].text;}lo+=2;if(lo<l.length&&eq(l[lo].value,_136)){return l[lo].text;}}return def;}});})();}if(!dojo._hasResource["dojox.charting.scaler.linear"]){dojo._hasResource["dojox.charting.scaler.linear"]=true;dojo.provide("dojox.charting.scaler.linear");(function(){var _139=3,dc=dojox.charting,dcs=dc.scaler,dcsc=dcs.common,_13a=dcsc.findString,_13b=dcsc.getNumericLabel;var _13c=function(min,max,_13d,_13e,_13f,_140,span){_13d=dojo.delegate(_13d);if(!_13e){if(_13d.fixUpper=="major"){_13d.fixUpper="minor";}if(_13d.fixLower=="major"){_13d.fixLower="minor";}}if(!_13f){if(_13d.fixUpper=="minor"){_13d.fixUpper="micro";}if(_13d.fixLower=="minor"){_13d.fixLower="micro";}}if(!_140){if(_13d.fixUpper=="micro"){_13d.fixUpper="none";}if(_13d.fixLower=="micro"){_13d.fixLower="none";}}var _141=_13a(_13d.fixLower,["major"])?Math.floor(_13d.min/_13e)*_13e:_13a(_13d.fixLower,["minor"])?Math.floor(_13d.min/_13f)*_13f:_13a(_13d.fixLower,["micro"])?Math.floor(_13d.min/_140)*_140:_13d.min,_142=_13a(_13d.fixUpper,["major"])?Math.ceil(_13d.max/_13e)*_13e:_13a(_13d.fixUpper,["minor"])?Math.ceil(_13d.max/_13f)*_13f:_13a(_13d.fixUpper,["micro"])?Math.ceil(_13d.max/_140)*_140:_13d.max;if(_13d.useMin){min=_141;}if(_13d.useMax){max=_142;}var _143=(!_13e||_13d.useMin&&_13a(_13d.fixLower,["major"]))?min:Math.ceil(min/_13e)*_13e,_144=(!_13f||_13d.useMin&&_13a(_13d.fixLower,["major","minor"]))?min:Math.ceil(min/_13f)*_13f,_145=(!_140||_13d.useMin&&_13a(_13d.fixLower,["major","minor","micro"]))?min:Math.ceil(min/_140)*_140,_146=!_13e?0:(_13d.useMax&&_13a(_13d.fixUpper,["major"])?Math.round((max-_143)/_13e):Math.floor((max-_143)/_13e))+1,_147=!_13f?0:(_13d.useMax&&_13a(_13d.fixUpper,["major","minor"])?Math.round((max-_144)/_13f):Math.floor((max-_144)/_13f))+1,_148=!_140?0:(_13d.useMax&&_13a(_13d.fixUpper,["major","minor","micro"])?Math.round((max-_145)/_140):Math.floor((max-_145)/_140))+1,_149=_13f?Math.round(_13e/_13f):0,_14a=_140?Math.round(_13f/_140):0,_14b=_13e?Math.floor(Math.log(_13e)/Math.LN10):0,_14c=_13f?Math.floor(Math.log(_13f)/Math.LN10):0,_14d=span/(max-min);if(!isFinite(_14d)){_14d=1;}return {bounds:{lower:_141,upper:_142,from:min,to:max,scale:_14d,span:span},major:{tick:_13e,start:_143,count:_146,prec:_14b},minor:{tick:_13f,start:_144,count:_147,prec:_14c},micro:{tick:_140,start:_145,count:_148,prec:0},minorPerMajor:_149,microPerMinor:_14a,scaler:dcs.linear};};dojo.mixin(dojox.charting.scaler.linear,{buildScaler:function(min,max,span,_14e){var h={fixUpper:"none",fixLower:"none",natural:false};if(_14e){if("fixUpper" in _14e){h.fixUpper=String(_14e.fixUpper);}if("fixLower" in _14e){h.fixLower=String(_14e.fixLower);}if("natural" in _14e){h.natural=Boolean(_14e.natural);}}if("min" in _14e){min=_14e.min;}if("max" in _14e){max=_14e.max;}if(_14e.includeZero){if(min>0){min=0;}if(max<0){max=0;}}h.min=min;h.useMin=true;h.max=max;h.useMax=true;if("from" in _14e){min=_14e.from;h.useMin=false;}if("to" in _14e){max=_14e.to;h.useMax=false;}if(max<=min){return _13c(min,max,h,0,0,0,span);}var mag=Math.floor(Math.log(max-min)/Math.LN10),_14f=_14e&&("majorTickStep" in _14e)?_14e.majorTickStep:Math.pow(10,mag),_150=0,_151=0,_152;if(_14e&&("minorTickStep" in _14e)){_150=_14e.minorTickStep;}else{do{_150=_14f/10;if(!h.natural||_150>0.9){_152=_13c(min,max,h,_14f,_150,0,span);if(_152.bounds.scale*_152.minor.tick>_139){break;}}_150=_14f/5;if(!h.natural||_150>0.9){_152=_13c(min,max,h,_14f,_150,0,span);if(_152.bounds.scale*_152.minor.tick>_139){break;}}_150=_14f/2;if(!h.natural||_150>0.9){_152=_13c(min,max,h,_14f,_150,0,span);if(_152.bounds.scale*_152.minor.tick>_139){break;}}return _13c(min,max,h,_14f,0,0,span);}while(false);}if(_14e&&("microTickStep" in _14e)){_151=_14e.microTickStep;_152=_13c(min,max,h,_14f,_150,_151,span);}else{do{_151=_150/10;if(!h.natural||_151>0.9){_152=_13c(min,max,h,_14f,_150,_151,span);if(_152.bounds.scale*_152.micro.tick>_139){break;}}_151=_150/5;if(!h.natural||_151>0.9){_152=_13c(min,max,h,_14f,_150,_151,span);if(_152.bounds.scale*_152.micro.tick>_139){break;}}_151=_150/2;if(!h.natural||_151>0.9){_152=_13c(min,max,h,_14f,_150,_151,span);if(_152.bounds.scale*_152.micro.tick>_139){break;}}_151=0;}while(false);}return _151?_152:_13c(min,max,h,_14f,_150,0,span);},buildTicks:function(_153,_154){var step,next,tick,_155=_153.major.start,_156=_153.minor.start,_157=_153.micro.start;if(_154.microTicks&&_153.micro.tick){step=_153.micro.tick,next=_157;}else{if(_154.minorTicks&&_153.minor.tick){step=_153.minor.tick,next=_156;}else{if(_153.major.tick){step=_153.major.tick,next=_155;}else{return null;}}}var _158=1/_153.bounds.scale;if(_153.bounds.to<=_153.bounds.from||isNaN(_158)||!isFinite(_158)||step<=0||isNaN(step)||!isFinite(step)){return null;}var _159=[],_15a=[],_15b=[];while(next<=_153.bounds.to+_158){if(Math.abs(_155-next)<step/2){tick={value:_155};if(_154.majorLabels){tick.label=_13b(_155,_153.major.prec,_154);}_159.push(tick);_155+=_153.major.tick;_156+=_153.minor.tick;_157+=_153.micro.tick;}else{if(Math.abs(_156-next)<step/2){if(_154.minorTicks){tick={value:_156};if(_154.minorLabels&&(_153.minMinorStep<=_153.minor.tick*_153.bounds.scale)){tick.label=_13b(_156,_153.minor.prec,_154);}_15a.push(tick);}_156+=_153.minor.tick;_157+=_153.micro.tick;}else{if(_154.microTicks){_15b.push({value:_157});}_157+=_153.micro.tick;}}next+=step;}return {major:_159,minor:_15a,micro:_15b};},getTransformerFromModel:function(_15c){var _15d=_15c.bounds.from,_15e=_15c.bounds.scale;return function(x){return (x-_15d)*_15e;};},getTransformerFromPlot:function(_15f){var _160=_15f.bounds.from,_161=_15f.bounds.scale;return function(x){return x/_161+_160;};}});})();}if(!dojo._hasResource["dojox.charting.axis2d.common"]){dojo._hasResource["dojox.charting.axis2d.common"]=true;dojo.provide("dojox.charting.axis2d.common");(function(){var g=dojox.gfx;var _162=function(s){s.marginLeft="0px";s.marginTop="0px";s.marginRight="0px";s.marginBottom="0px";s.paddingLeft="0px";s.paddingTop="0px";s.paddingRight="0px";s.paddingBottom="0px";s.borderLeftWidth="0px";s.borderTopWidth="0px";s.borderRightWidth="0px";s.borderBottomWidth="0px";};var _163=function(n){if(n["getBoundingClientRect"]){var bcr=n.getBoundingClientRect();return bcr.width||(bcr.right-bcr.left);}else{return dojo.marginBox(n).w;}};dojo.mixin(dojox.charting.axis2d.common,{createText:{gfx:function(_164,_165,x,y,_166,text,font,_167){return _165.createText({x:x,y:y,text:text,align:_166}).setFont(font).setFill(_167);},html:function(_168,_169,x,y,_16a,text,font,_16b,_16c){var p=dojo.doc.createElement("div"),s=p.style,_16d;_162(s);s.font=font;p.innerHTML=String(text).replace(/\s/g,"&nbsp;");s.color=_16b;s.position="absolute";s.left="-10000px";dojo.body().appendChild(p);var size=g.normalizedLength(g.splitFontString(font).size);if(!_16c){_16d=_163(p);}dojo.body().removeChild(p);s.position="relative";if(_16c){s.width=_16c+"px";switch(_16a){case "middle":s.textAlign="center";s.left=(x-_16c/2)+"px";break;case "end":s.textAlign="right";s.left=(x-_16c)+"px";break;default:s.left=x+"px";s.textAlign="left";break;}}else{switch(_16a){case "middle":s.left=Math.floor(x-_16d/2)+"px";break;case "end":s.left=Math.floor(x-_16d)+"px";break;default:s.left=Math.floor(x)+"px";break;}}s.top=Math.floor(y-size)+"px";var wrap=dojo.doc.createElement("div"),w=wrap.style;_162(w);w.width="0px";w.height="0px";wrap.appendChild(p);_168.node.insertBefore(wrap,_168.node.firstChild);return wrap;}}});})();}if(!dojo._hasResource["dojox.charting.axis2d.Base"]){dojo._hasResource["dojox.charting.axis2d.Base"]=true;dojo.provide("dojox.charting.axis2d.Base");dojo.declare("dojox.charting.axis2d.Base",dojox.charting.Element,{constructor:function(_16e,_16f){this.vertical=_16f&&_16f.vertical;},clear:function(){return this;},initialized:function(){return false;},calculate:function(min,max,span){return this;},getScaler:function(){return null;},getTicks:function(){return null;},getOffsets:function(){return {l:0,r:0,t:0,b:0};},render:function(dim,_170){return this;}});}if(!dojo._hasResource["dojo.string"]){dojo._hasResource["dojo.string"]=true;dojo.provide("dojo.string");dojo.string.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};dojo.string.pad=function(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=dojo.string.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};dojo.string.substitute=function(_171,map,_172,_173){_173=_173||dojo.global;_172=_172?dojo.hitch(_173,_172):function(v){return v;};return _171.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_174,key,_175){var _176=dojo.getObject(key,false,map);if(_175){_176=dojo.getObject(_175,false,_173).call(_173,_176,key);}return _172(_176,key).toString();});};dojo.string.trim=String.prototype.trim?dojo.trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};}if(!dojo._hasResource["dojox.lang.utils"]){dojo._hasResource["dojox.lang.utils"]=true;dojo.provide("dojox.lang.utils");(function(){var _177={},du=dojox.lang.utils;var _178=function(o){if(dojo.isArray(o)){return dojo._toArray(o);}if(!dojo.isObject(o)||dojo.isFunction(o)){return o;}return dojo.delegate(o);};dojo.mixin(du,{coerceType:function(_179,_17a){switch(typeof _179){case "number":return Number(eval("("+_17a+")"));case "string":return String(_17a);case "boolean":return Boolean(eval("("+_17a+")"));}return eval("("+_17a+")");},updateWithObject:function(_17b,_17c,conv){if(!_17c){return _17b;}for(var x in _17b){if(x in _17c&&!(x in _177)){var t=_17b[x];if(t&&typeof t=="object"){du.updateWithObject(t,_17c[x],conv);}else{_17b[x]=conv?du.coerceType(t,_17c[x]):_178(_17c[x]);}}}return _17b;},updateWithPattern:function(_17d,_17e,_17f,conv){if(!_17e||!_17f){return _17d;}for(var x in _17f){if(x in _17e&&!(x in _177)){_17d[x]=conv?du.coerceType(_17f[x],_17e[x]):_178(_17e[x]);}}return _17d;}});})();}if(!dojo._hasResource["dojox.charting.axis2d.Default"]){dojo._hasResource["dojox.charting.axis2d.Default"]=true;dojo.provide("dojox.charting.axis2d.Default");(function(){var dc=dojox.charting,df=dojox.lang.functional,du=dojox.lang.utils,g=dojox.gfx,lin=dc.scaler.linear,_180=4;dojo.declare("dojox.charting.axis2d.Default",dojox.charting.axis2d.Base,{defaultParams:{vertical:false,fixUpper:"none",fixLower:"none",natural:false,leftBottom:true,includeZero:false,fixed:true,majorLabels:true,minorTicks:true,minorLabels:true,microTicks:false,htmlLabels:true},optionalParams:{min:0,max:1,from:0,to:1,majorTickStep:4,minorTickStep:2,microTickStep:1,labels:[],labelFunc:null,maxLabelSize:0,stroke:{},majorTick:{},minorTick:{},microTick:{},font:"",fontColor:""},constructor:function(_181,_182){this.opt=dojo.delegate(this.defaultParams,_182);du.updateWithPattern(this.opt,_182,this.optionalParams);},dependOnData:function(){return !("min" in this.opt)||!("max" in this.opt);},clear:function(){delete this.scaler;delete this.ticks;this.dirty=true;return this;},initialized:function(){return "scaler" in this&&!(this.dirty&&this.dependOnData());},setWindow:function(_183,_184){this.scale=_183;this.offset=_184;return this.clear();},getWindowScale:function(){return "scale" in this?this.scale:1;},getWindowOffset:function(){return "offset" in this?this.offset:0;},_groupLabelWidth:function(_185,font){if(_185[0]["text"]){_185=df.map(_185,function(_186){return _186.text;});}var s=_185.join("<br>");return dojox.gfx._base._getTextBox(s,{font:font}).w||0;},calculate:function(min,max,span,_187){if(this.initialized()){return this;}var o=this.opt;this.labels="labels" in o?o.labels:_187;this.scaler=lin.buildScaler(min,max,span,o);var tsb=this.scaler.bounds;if("scale" in this){o.from=tsb.lower+this.offset;o.to=(tsb.upper-tsb.lower)/this.scale+o.from;if(!isFinite(o.from)||isNaN(o.from)||!isFinite(o.to)||isNaN(o.to)||o.to-o.from>=tsb.upper-tsb.lower){delete o.from;delete o.to;delete this.scale;delete this.offset;}else{if(o.from<tsb.lower){o.to+=tsb.lower-o.from;o.from=tsb.lower;}else{if(o.to>tsb.upper){o.from+=tsb.upper-o.to;o.to=tsb.upper;}}this.offset=o.from-tsb.lower;}this.scaler=lin.buildScaler(min,max,span,o);tsb=this.scaler.bounds;if(this.scale==1&&this.offset==0){delete this.scale;delete this.offset;}}var _188=0,ta=this.chart.theme.axis,_189="font" in o?o.font:ta.font,size=_189?g.normalizedLength(g.splitFontString(_189).size):0;if(this.vertical){if(size){_188=size+_180;}}else{if(size){var _18a,i;if(o.labelFunc&&o.maxLabelSize){_18a=o.maxLabelSize;}else{if(this.labels){_18a=this._groupLabelWidth(this.labels,_189);}else{var _18b=Math.ceil(Math.log(Math.max(Math.abs(tsb.from),Math.abs(tsb.to)))/Math.LN10),t=[];if(tsb.from<0||tsb.to<0){t.push("-");}t.push(dojo.string.rep("9",_18b));var _18c=Math.floor(Math.log(tsb.to-tsb.from)/Math.LN10);if(_18c>0){t.push(".");for(i=0;i<_18c;++i){t.push("9");}}_18a=dojox.gfx._base._getTextBox(t.join(""),{font:_189}).w;}}_188=_18a+_180;}}this.scaler.minMinorStep=_188;this.ticks=lin.buildTicks(this.scaler,o);return this;},getScaler:function(){return this.scaler;},getTicks:function(){return this.ticks;},getOffsets:function(){var o=this.opt;var _18d={l:0,r:0,t:0,b:0},_18e,a,b,c,d,gl=dc.scaler.common.getNumericLabel,_18f=0,ta=this.chart.theme.axis,_190="font" in o?o.font:ta.font,_191="majorTick" in o?o.majorTick:ta.majorTick,_192="minorTick" in o?o.minorTick:ta.minorTick,size=_190?g.normalizedLength(g.splitFontString(_190).size):0,s=this.scaler;if(!s){return _18d;}var ma=s.major,mi=s.minor;if(this.vertical){if(size){if(o.labelFunc&&o.maxLabelSize){_18e=o.maxLabelSize;}else{if(this.labels){_18e=this._groupLabelWidth(this.labels,_190);}else{_18e=this._groupLabelWidth([gl(ma.start,ma.prec,o),gl(ma.start+ma.count*ma.tick,ma.prec,o),gl(mi.start,mi.prec,o),gl(mi.start+mi.count*mi.tick,mi.prec,o)],_190);}}_18f=_18e+_180;}_18f+=_180+Math.max(_191.length,_192.length);_18d[o.leftBottom?"l":"r"]=_18f;_18d.t=_18d.b=size/2;}else{if(size){_18f=size+_180;}_18f+=_180+Math.max(_191.length,_192.length);_18d[o.leftBottom?"b":"t"]=_18f;if(size){if(o.labelFunc&&o.maxLabelSize){_18e=o.maxLabelSize;}else{if(this.labels){_18e=this._groupLabelWidth(this.labels,_190);}else{_18e=this._groupLabelWidth([gl(ma.start,ma.prec,o),gl(ma.start+ma.count*ma.tick,ma.prec,o),gl(mi.start,mi.prec,o),gl(mi.start+mi.count*mi.tick,mi.prec,o)],_190);}}_18d.l=_18d.r=_18e/2;}}if(_18e){this._cachedLabelWidth=_18e;}return _18d;},render:function(dim,_193){if(!this.dirty){return this;}var o=this.opt;var _194,stop,_195,_196,_197,_198,ta=this.chart.theme.axis,_199="stroke" in o?o.stroke:ta.stroke,_19a="majorTick" in o?o.majorTick:ta.majorTick,_19b="minorTick" in o?o.minorTick:ta.minorTick,_19c="microTick" in o?o.microTick:ta.minorTick,_19d="font" in o?o.font:ta.font,_19e="fontColor" in o?o.fontColor:ta.fontColor,_19f=Math.max(_19a.length,_19b.length),size=_19d?g.normalizedLength(g.splitFontString(_19d).size):0;if(this.vertical){_194={y:dim.height-_193.b};stop={y:_193.t};_195={x:0,y:-1};if(o.leftBottom){_194.x=stop.x=_193.l;_196={x:-1,y:0};_198="end";}else{_194.x=stop.x=dim.width-_193.r;_196={x:1,y:0};_198="start";}_197={x:_196.x*(_19f+_180),y:size*0.4};}else{_194={x:_193.l};stop={x:dim.width-_193.r};_195={x:1,y:0};_198="middle";if(o.leftBottom){_194.y=stop.y=dim.height-_193.b;_196={x:0,y:1};_197={y:_19f+_180+size};}else{_194.y=stop.y=_193.t;_196={x:0,y:-1};_197={y:-_19f-_180};}_197.x=0;}this.cleanGroup();try{var s=this.group,c=this.scaler,t=this.ticks,_1a0,f=lin.getTransformerFromModel(this.scaler),_1a1=(dojox.gfx.renderer=="canvas"),_1a2=_1a1||this.opt.htmlLabels&&!dojo.isIE&&!dojo.isOpera?"html":"gfx",dx=_196.x*_19a.length,dy=_196.y*_19a.length;s.createLine({x1:_194.x,y1:_194.y,x2:stop.x,y2:stop.y}).setStroke(_199);dojo.forEach(t.major,function(tick){var _1a3=f(tick.value),elem,x=_194.x+_195.x*_1a3,y=_194.y+_195.y*_1a3;s.createLine({x1:x,y1:y,x2:x+dx,y2:y+dy}).setStroke(_19a);if(tick.label){elem=dc.axis2d.common.createText[_1a2](this.chart,s,x+_197.x,y+_197.y,_198,tick.label,_19d,_19e,this._cachedLabelWidth);if(_1a2=="html"){this.htmlElements.push(elem);}}},this);dx=_196.x*_19b.length;dy=_196.y*_19b.length;_1a0=c.minMinorStep<=c.minor.tick*c.bounds.scale;dojo.forEach(t.minor,function(tick){var _1a4=f(tick.value),elem,x=_194.x+_195.x*_1a4,y=_194.y+_195.y*_1a4;s.createLine({x1:x,y1:y,x2:x+dx,y2:y+dy}).setStroke(_19b);if(_1a0&&tick.label){elem=dc.axis2d.common.createText[_1a2](this.chart,s,x+_197.x,y+_197.y,_198,tick.label,_19d,_19e,this._cachedLabelWidth);if(_1a2=="html"){this.htmlElements.push(elem);}}},this);dx=_196.x*_19c.length;dy=_196.y*_19c.length;dojo.forEach(t.micro,function(tick){var _1a5=f(tick.value),elem,x=_194.x+_195.x*_1a5,y=_194.y+_195.y*_1a5;s.createLine({x1:x,y1:y,x2:x+dx,y2:y+dy}).setStroke(_19c);},this);}catch(e){}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.common"]){dojo._hasResource["dojox.charting.plot2d.common"]=true;dojo.provide("dojox.charting.plot2d.common");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common;dojo.mixin(dojox.charting.plot2d.common,{makeStroke:function(_1a6){if(!_1a6){return _1a6;}if(typeof _1a6=="string"||_1a6 instanceof dojo.Color){_1a6={color:_1a6};}return dojox.gfx.makeParameters(dojox.gfx.defaultStroke,_1a6);},augmentColor:function(_1a7,_1a8){var t=new dojo.Color(_1a7),c=new dojo.Color(_1a8);c.a=t.a;return c;},augmentStroke:function(_1a9,_1aa){var s=dc.makeStroke(_1a9);if(s){s.color=dc.augmentColor(s.color,_1aa);}return s;},augmentFill:function(fill,_1ab){var fc,c=new dojo.Color(_1ab);if(typeof fill=="string"||fill instanceof dojo.Color){return dc.augmentColor(fill,_1ab);}return fill;},defaultStats:{hmin:Number.POSITIVE_INFINITY,hmax:Number.NEGATIVE_INFINITY,vmin:Number.POSITIVE_INFINITY,vmax:Number.NEGATIVE_INFINITY},collectSimpleStats:function(_1ac){var _1ad=dojo.clone(dc.defaultStats);for(var i=0;i<_1ac.length;++i){var run=_1ac[i];if(!run.data.length){continue;}if(typeof run.data[0]=="number"){var _1ae=_1ad.vmin,_1af=_1ad.vmax;if(!("ymin" in run)||!("ymax" in run)){dojo.forEach(run.data,function(val,i){var x=i+1,y=val;if(isNaN(y)){y=0;}_1ad.hmin=Math.min(_1ad.hmin,x);_1ad.hmax=Math.max(_1ad.hmax,x);_1ad.vmin=Math.min(_1ad.vmin,y);_1ad.vmax=Math.max(_1ad.vmax,y);});}if("ymin" in run){_1ad.vmin=Math.min(_1ae,run.ymin);}if("ymax" in run){_1ad.vmax=Math.max(_1af,run.ymax);}}else{var _1b0=_1ad.hmin,_1b1=_1ad.hmax,_1ae=_1ad.vmin,_1af=_1ad.vmax;if(!("xmin" in run)||!("xmax" in run)||!("ymin" in run)||!("ymax" in run)){dojo.forEach(run.data,function(val,i){var x="x" in val?val.x:i+1,y=val.y;if(isNaN(x)){x=0;}if(isNaN(y)){y=0;}_1ad.hmin=Math.min(_1ad.hmin,x);_1ad.hmax=Math.max(_1ad.hmax,x);_1ad.vmin=Math.min(_1ad.vmin,y);_1ad.vmax=Math.max(_1ad.vmax,y);});}if("xmin" in run){_1ad.hmin=Math.min(_1b0,run.xmin);}if("xmax" in run){_1ad.hmax=Math.max(_1b1,run.xmax);}if("ymin" in run){_1ad.vmin=Math.min(_1ae,run.ymin);}if("ymax" in run){_1ad.vmax=Math.max(_1af,run.ymax);}}}return _1ad;},calculateBarSize:function(_1b2,opt,_1b3){if(!_1b3){_1b3=1;}var gap=opt.gap,size=(_1b2-2*gap)/_1b3;if("minBarSize" in opt){size=Math.max(size,opt.minBarSize);}if("maxBarSize" in opt){size=Math.min(size,opt.maxBarSize);}size=Math.max(size,1);gap=(_1b2-size*_1b3)/2;return {size:size,gap:gap};},collectStackedStats:function(_1b4){var _1b5=dojo.clone(dc.defaultStats);if(_1b4.length){_1b5.hmin=Math.min(_1b5.hmin,1);_1b5.hmax=df.foldl(_1b4,"seed, run -> Math.max(seed, run.data.length)",_1b5.hmax);for(var i=0;i<_1b5.hmax;++i){var v=_1b4[0].data[i];if(isNaN(v)){v=0;}_1b5.vmin=Math.min(_1b5.vmin,v);for(var j=1;j<_1b4.length;++j){var t=_1b4[j].data[i];if(isNaN(t)){t=0;}v+=t;}_1b5.vmax=Math.max(_1b5.vmax,v);}}return _1b5;},curve:function(a,_1b6){var arr=a.slice(0);if(_1b6=="x"){arr[arr.length]=arr[0];}var p=dojo.map(arr,function(item,i){if(i==0){return "M"+item.x+","+item.y;}if(!isNaN(_1b6)){var dx=item.x-arr[i-1].x,dy=arr[i-1].y;return "C"+(item.x-(_1b6-1)*(dx/_1b6))+","+dy+" "+(item.x-(dx/_1b6))+","+item.y+" "+item.x+","+item.y;}else{if(_1b6=="X"||_1b6=="x"||_1b6=="S"){var p0,p1=arr[i-1],p2=arr[i],p3;var bz1x,bz1y,bz2x,bz2y;var f=1/6;if(i==1){if(_1b6=="x"){p0=arr[arr.length-2];}else{p0=p1;}f=1/3;}else{p0=arr[i-2];}if(i==(arr.length-1)){if(_1b6=="x"){p3=arr[1];}else{p3=p2;}f=1/3;}else{p3=arr[i+1];}var p1p2=Math.sqrt((p2.x-p1.x)*(p2.x-p1.x)+(p2.y-p1.y)*(p2.y-p1.y));var p0p2=Math.sqrt((p2.x-p0.x)*(p2.x-p0.x)+(p2.y-p0.y)*(p2.y-p0.y));var p1p3=Math.sqrt((p3.x-p1.x)*(p3.x-p1.x)+(p3.y-p1.y)*(p3.y-p1.y));var _1b7=p0p2*f;var _1b8=p1p3*f;if(_1b7>p1p2/2&&_1b8>p1p2/2){_1b7=p1p2/2;_1b8=p1p2/2;}else{if(_1b7>p1p2/2){_1b7=p1p2/2;_1b8=p1p2/2*p1p3/p0p2;}else{if(_1b8>p1p2/2){_1b8=p1p2/2;_1b7=p1p2/2*p0p2/p1p3;}}}if(_1b6=="S"){if(p0==p1){_1b7=0;}if(p2==p3){_1b8=0;}}bz1x=p1.x+_1b7*(p2.x-p0.x)/p0p2;bz1y=p1.y+_1b7*(p2.y-p0.y)/p0p2;bz2x=p2.x-_1b8*(p3.x-p1.x)/p1p3;bz2y=p2.y-_1b8*(p3.y-p1.y)/p1p3;}}return "C"+(bz1x+","+bz1y+" "+bz2x+","+bz2y+" "+p2.x+","+p2.y);});return p.join(" ");}});})();}if(!dojo._hasResource["dojox.charting.scaler.primitive"]){dojo._hasResource["dojox.charting.scaler.primitive"]=true;dojo.provide("dojox.charting.scaler.primitive");dojox.charting.scaler.primitive={buildScaler:function(min,max,span,_1b9){return {bounds:{lower:min,upper:max,from:min,to:max,scale:span/(max-min),span:span},scaler:dojox.charting.scaler.primitive};},buildTicks:function(_1ba,_1bb){return {major:[],minor:[],micro:[]};},getTransformerFromModel:function(_1bc){var _1bd=_1bc.bounds.from,_1be=_1bc.bounds.scale;return function(x){return (x-_1bd)*_1be;};},getTransformerFromPlot:function(_1bf){var _1c0=_1bf.bounds.from,_1c1=_1bf.bounds.scale;return function(x){return x/_1c1+_1c0;};}};}if(!dojo._hasResource["dojox.charting.plot2d.Base"]){dojo._hasResource["dojox.charting.plot2d.Base"]=true;dojo.provide("dojox.charting.plot2d.Base");dojo.declare("dojox.charting.plot2d.Base",dojox.charting.Element,{destroy:function(){this.resetEvents();this.inherited(arguments);},clear:function(){this.series=[];this._hAxis=null;this._vAxis=null;this.dirty=true;return this;},setAxis:function(axis){if(axis){this[axis.vertical?"_vAxis":"_hAxis"]=axis;}return this;},addSeries:function(run){this.series.push(run);return this;},calculateAxes:function(dim){return this;},isDirty:function(){return this.dirty||this._hAxis&&this._hAxis.dirty||this._vAxis&&this._vAxis.dirty;},render:function(dim,_1c2){return this;},getRequiredColors:function(){return this.series.length;},plotEvent:function(o){},connect:function(_1c3,_1c4){this.dirty=true;return dojo.connect(this,"plotEvent",_1c3,_1c4);},events:function(){var ls=this.plotEvent._listeners;if(!ls||!ls.length){return false;}for(var i in ls){if(!(i in Array.prototype)){return true;}}return false;},resetEvents:function(){this.plotEvent({type:"onplotreset",plot:this});},_calc:function(dim,_1c5){if(this._hAxis){if(!this._hAxis.initialized()){this._hAxis.calculate(_1c5.hmin,_1c5.hmax,dim.width);}this._hScaler=this._hAxis.getScaler();}else{this._hScaler=dojox.charting.scaler.primitive.buildScaler(_1c5.hmin,_1c5.hmax,dim.width);}if(this._vAxis){if(!this._vAxis.initialized()){this._vAxis.calculate(_1c5.vmin,_1c5.vmax,dim.height);}this._vScaler=this._vAxis.getScaler();}else{this._vScaler=dojox.charting.scaler.primitive.buildScaler(_1c5.vmin,_1c5.vmax,dim.height);}},_connectEvents:function(_1c6,o){_1c6.connect("onmouseover",this,function(e){o.type="onmouseover";o.event=e;this.plotEvent(o);});_1c6.connect("onmouseout",this,function(e){o.type="onmouseout";o.event=e;this.plotEvent(o);});_1c6.connect("onclick",this,function(e){o.type="onclick";o.event=e;this.plotEvent(o);});}});}if(!dojo._hasResource["dojox.charting.plot2d.Default"]){dojo._hasResource["dojox.charting.plot2d.Default"]=true;dojo.provide("dojox.charting.plot2d.Default");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,_1c7=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Default",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y",lines:true,areas:false,markers:false,shadows:0,tension:0},optionalParams:{},constructor:function(_1c8,_1c9){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_1c9);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;},calculateAxes:function(dim){this._calc(dim,dc.collectSimpleStats(this.series));return this;},render:function(dim,_1ca){this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_1c7);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_1cb,_1cc,_1cd,_1ce,_1cf=this.events();this.resetEvents();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();if(!run.data.length){run.dirty=false;continue;}var s=run.group,_1d0,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler);if(typeof run.data[0]=="number"){_1d0=dojo.map(run.data,function(v,i){return {x:ht(i+1)+_1ca.l,y:dim.height-_1ca.b-vt(v)};},this);}else{_1d0=dojo.map(run.data,function(v,i){return {x:ht(v.x)+_1ca.l,y:dim.height-_1ca.b-vt(v.y)};},this);}if(!run.fill||!run.stroke){_1cd=run.dyn.color=new dojo.Color(t.next("color"));}var _1d1=this.opt.tension?dc.curve(_1d0,this.opt.tension):"";if(this.opt.areas){var fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_1cd);var _1d2=dojo.clone(_1d0);if(this.opt.tension){var _1d3="L"+_1d2[_1d2.length-1].x+","+(dim.height-_1ca.b)+" L"+_1d2[0].x+","+(dim.height-_1ca.b)+" L"+_1d2[0].x+","+_1d2[0].y;run.dyn.fill=s.createPath(_1d1+" "+_1d3).setFill(fill).getFill();}else{_1d2.push({x:_1d0[_1d0.length-1].x,y:dim.height-_1ca.b});_1d2.push({x:_1d0[0].x,y:dim.height-_1ca.b});_1d2.push(_1d0[0]);run.dyn.fill=s.createPolyline(_1d2).setFill(fill).getFill();}}if(this.opt.lines||this.opt.markers){_1cb=run.dyn.stroke=run.stroke?dc.makeStroke(run.stroke):dc.augmentStroke(t.series.stroke,_1cd);if(run.outline||t.series.outline){_1cc=run.dyn.outline=dc.makeStroke(run.outline?run.outline:t.series.outline);_1cc.width=2*_1cc.width+_1cb.width;}}if(this.opt.markers){_1ce=run.dyn.marker=run.marker?run.marker:t.next("marker");}var _1d4=null,_1d5=null,_1d6=null;if(this.opt.shadows&&_1cb){var sh=this.opt.shadows,_1d7=new dojo.Color([0,0,0,0.3]),_1d8=dojo.map(_1d0,function(c){return {x:c.x+sh.dx,y:c.y+sh.dy};}),_1d9=dojo.clone(_1cc?_1cc:_1cb);_1d9.color=_1d7;_1d9.width+=sh.dw?sh.dw:0;if(this.opt.lines){if(this.opt.tension){run.dyn.shadow=s.createPath(dc.curve(_1d8,this.opt.tension)).setStroke(_1d9).getStroke();}else{run.dyn.shadow=s.createPolyline(_1d8).setStroke(_1d9).getStroke();}}if(this.opt.markers){_1d6=dojo.map(_1d8,function(c){return s.createPath("M"+c.x+" "+c.y+" "+_1ce).setStroke(_1d9).setFill(_1d7);},this);}}if(this.opt.lines){if(_1cc){if(this.opt.tension){run.dyn.outline=s.createPath(_1d1).setStroke(_1cc).getStroke();}else{run.dyn.outline=s.createPolyline(_1d0).setStroke(_1cc).getStroke();}}if(this.opt.tension){run.dyn.stroke=s.createPath(_1d1).setStroke(_1cb).getStroke();}else{run.dyn.stroke=s.createPolyline(_1d0).setStroke(_1cb).getStroke();}}if(this.opt.markers){_1d4=new Array(_1d0.length);_1d5=new Array(_1d0.length);dojo.forEach(_1d0,function(c,i){var path="M"+c.x+" "+c.y+" "+_1ce;if(_1cc){_1d5[i]=s.createPath(path).setStroke(_1cc);}_1d4[i]=s.createPath(path).setStroke(_1cb).setFill(_1cb.color);},this);if(_1cf){dojo.forEach(_1d4,function(s,i){var o={element:"marker",index:i,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:s,outline:_1d5[i]||null,shadow:_1d6&&_1d6[i]||null,cx:_1d0[i].x,cy:_1d0[i].y};if(typeof run.data[0]=="number"){o.x=i+1;o.y=run.data[i];}else{o.x=run.data[i].x;o.y=run.data[i].y;}this._connectEvents(s,o);},this);}}run.dirty=false;}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Lines"]){dojo._hasResource["dojox.charting.plot2d.Lines"]=true;dojo.provide("dojox.charting.plot2d.Lines");dojo.declare("dojox.charting.plot2d.Lines",dojox.charting.plot2d.Default,{constructor:function(){this.opt.lines=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.Areas"]){dojo._hasResource["dojox.charting.plot2d.Areas"]=true;dojo.provide("dojox.charting.plot2d.Areas");dojo.declare("dojox.charting.plot2d.Areas",dojox.charting.plot2d.Default,{constructor:function(){this.opt.lines=true;this.opt.areas=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.Markers"]){dojo._hasResource["dojox.charting.plot2d.Markers"]=true;dojo.provide("dojox.charting.plot2d.Markers");dojo.declare("dojox.charting.plot2d.Markers",dojox.charting.plot2d.Default,{constructor:function(){this.opt.markers=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.MarkersOnly"]){dojo._hasResource["dojox.charting.plot2d.MarkersOnly"]=true;dojo.provide("dojox.charting.plot2d.MarkersOnly");dojo.declare("dojox.charting.plot2d.MarkersOnly",dojox.charting.plot2d.Default,{constructor:function(){this.opt.lines=false;this.opt.markers=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.Scatter"]){dojo._hasResource["dojox.charting.plot2d.Scatter"]=true;dojo.provide("dojox.charting.plot2d.Scatter");dojo.declare("dojox.charting.plot2d.Scatter",dojox.charting.plot2d.Default,{constructor:function(){this.opt.lines=false;this.opt.markers=true;}});}if(!dojo._hasResource["dojox.lang.functional.sequence"]){dojo._hasResource["dojox.lang.functional.sequence"]=true;dojo.provide("dojox.lang.functional.sequence");(function(){var d=dojo,df=dojox.lang.functional;d.mixin(df,{repeat:function(n,f,z,o){o=o||d.global;f=df.lambda(f);var t=new Array(n),i=1;t[0]=z;for(;i<n;t[i]=z=f.call(o,z),++i){}return t;},until:function(pr,f,z,o){o=o||d.global;f=df.lambda(f);pr=df.lambda(pr);var t=[];for(;!pr.call(o,z);t.push(z),z=f.call(o,z)){}return t;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Stacked"]){dojo._hasResource["dojox.charting.plot2d.Stacked"]=true;dojo.provide("dojox.charting.plot2d.Stacked");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common,_1da=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Stacked",dojox.charting.plot2d.Default,{calculateAxes:function(dim){var _1db=dc.collectStackedStats(this.series);this._maxRunLength=_1db.hmax;this._calc(dim,_1db);return this;},render:function(dim,_1dc){if(this._maxRunLength<=0){return this;}var acc=df.repeat(this._maxRunLength,"-> 0",0);for(var i=0;i<this.series.length;++i){var run=this.series[i];for(var j=0;j<run.data.length;++j){var v=run.data[j];if(isNaN(v)){v=0;}acc[j]+=v;}}this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_1da);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_1dd,_1de,_1df,_1e0,_1e1=this.events(),ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler);this.resetEvents();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group,_1e2=dojo.map(acc,function(v,i){return {x:ht(i+1)+_1dc.l,y:dim.height-_1dc.b-vt(v)};},this);if(!run.fill||!run.stroke){_1df=new dojo.Color(t.next("color"));}var _1e3=this.opt.tension?dc.curve(_1e2,this.opt.tension):"";if(this.opt.areas){var _1e4=dojo.clone(_1e2);var fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_1df);if(this.opt.tension){var p=dc.curve(_1e4,this.opt.tension);p+=" L"+_1e2[_1e2.length-1].x+","+(dim.height-_1dc.b)+" L"+_1e2[0].x+","+(dim.height-_1dc.b)+" L"+_1e2[0].x+","+_1e2[0].y;run.dyn.fill=s.createPath(p).setFill(fill).getFill();}else{_1e4.push({x:_1e2[_1e2.length-1].x,y:dim.height-_1dc.b});_1e4.push({x:_1e2[0].x,y:dim.height-_1dc.b});_1e4.push(_1e2[0]);run.dyn.fill=s.createPolyline(_1e4).setFill(fill).getFill();}}if(this.opt.lines||this.opt.markers){_1dd=run.stroke?dc.makeStroke(run.stroke):dc.augmentStroke(t.series.stroke,_1df);if(run.outline||t.series.outline){_1de=dc.makeStroke(run.outline?run.outline:t.series.outline);_1de.width=2*_1de.width+_1dd.width;}}if(this.opt.markers){_1e0=run.dyn.marker=run.marker?run.marker:t.next("marker");}var _1e5,_1e6,_1e7;if(this.opt.shadows&&_1dd){var sh=this.opt.shadows,_1e8=new dojo.Color([0,0,0,0.3]),_1e9=dojo.map(_1e2,function(c){return {x:c.x+sh.dx,y:c.y+sh.dy};}),_1ea=dojo.clone(_1de?_1de:_1dd);_1ea.color=_1e8;_1ea.width+=sh.dw?sh.dw:0;if(this.opt.lines){if(this.opt.tension){run.dyn.shadow=s.createPath(dc.curve(_1e9,this.opt.tension)).setStroke(_1ea).getStroke();}else{run.dyn.shadow=s.createPolyline(_1e9).setStroke(_1ea).getStroke();}}if(this.opt.markers){_1e7=dojo.map(_1e9,function(c){return s.createPath("M"+c.x+" "+c.y+" "+_1e0).setStroke(_1ea).setFill(_1e8);},this);}}if(this.opt.lines){if(_1de){if(this.opt.tension){run.dyn.outline=s.createPath(_1e3).setStroke(_1de).getStroke();}else{run.dyn.outline=s.createPolyline(_1e2).setStroke(_1de).getStroke();}}if(this.opt.tension){run.dyn.stroke=s.createPath(_1e3).setStroke(_1dd).getStroke();}else{run.dyn.stroke=s.createPolyline(_1e2).setStroke(_1dd).getStroke();}}if(this.opt.markers){_1e5=new Array(_1e2.length);_1e6=new Array(_1e2.length);dojo.forEach(_1e2,function(c,i){var path="M"+c.x+" "+c.y+" "+_1e0;if(_1de){_1e6[i]=s.createPath(path).setStroke(_1de);}_1e5[i]=s.createPath(path).setStroke(_1dd).setFill(_1dd.color);},this);if(_1e1){dojo.forEach(_1e5,function(s,i){var o={element:"marker",index:i,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:s,outline:_1e6[i]||null,shadow:_1e7&&_1e7[i]||null,cx:_1e2[i].x,cy:_1e2[i].y,x:i+1,y:run.data[i]};this._connectEvents(s,o);},this);}}run.dirty=false;for(var j=0;j<run.data.length;++j){var v=run.data[j];if(isNaN(v)){v=0;}acc[j]-=v;}}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.StackedLines"]){dojo._hasResource["dojox.charting.plot2d.StackedLines"]=true;dojo.provide("dojox.charting.plot2d.StackedLines");dojo.declare("dojox.charting.plot2d.StackedLines",dojox.charting.plot2d.Stacked,{constructor:function(){this.opt.lines=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.StackedAreas"]){dojo._hasResource["dojox.charting.plot2d.StackedAreas"]=true;dojo.provide("dojox.charting.plot2d.StackedAreas");dojo.declare("dojox.charting.plot2d.StackedAreas",dojox.charting.plot2d.Stacked,{constructor:function(){this.opt.lines=true;this.opt.areas=true;}});}if(!dojo._hasResource["dojox.gfx.fx"]){dojo._hasResource["dojox.gfx.fx"]=true;dojo.provide("dojox.gfx.fx");(function(){var d=dojo,g=dojox.gfx,m=g.matrix;var _1eb=function(_1ec,end){this.start=_1ec,this.end=end;};d.extend(_1eb,{getValue:function(r){return (this.end-this.start)*r+this.start;}});var _1ed=function(_1ee,end,_1ef){this.start=_1ee,this.end=end;this.units=_1ef;};d.extend(_1ed,{getValue:function(r){return (this.end-this.start)*r+this.start+this.units;}});var _1f0=function(_1f1,end){this.start=_1f1,this.end=end;this.temp=new dojo.Color();};d.extend(_1f0,{getValue:function(r){return d.blendColors(this.start,this.end,r,this.temp);}});var _1f2=function(_1f3){this.values=_1f3;this.length=_1f3.length;};d.extend(_1f2,{getValue:function(r){return this.values[Math.min(Math.floor(r*this.length),this.length-1)];}});var _1f4=function(_1f5,def){this.values=_1f5;this.def=def?def:{};};d.extend(_1f4,{getValue:function(r){var ret=dojo.clone(this.def);for(var i in this.values){ret[i]=this.values[i].getValue(r);}return ret;}});var _1f6=function(_1f7,_1f8){this.stack=_1f7;this.original=_1f8;};d.extend(_1f6,{getValue:function(r){var ret=[];dojo.forEach(this.stack,function(t){if(t instanceof m.Matrix2D){ret.push(t);return;}if(t.name=="original"&&this.original){ret.push(this.original);return;}if(!(t.name in m)){return;}var f=m[t.name];if(typeof f!="function"){ret.push(f);return;}var val=dojo.map(t.start,function(v,i){return (t.end[i]-v)*r+v;}),_1f9=f.apply(m,val);if(_1f9 instanceof m.Matrix2D){ret.push(_1f9);}},this);return ret;}});var _1fa=new d.Color(0,0,0,0);var _1fb=function(prop,obj,name,def){if(prop.values){return new _1f2(prop.values);}var _1fc,_1fd,end;if(prop.start){_1fd=g.normalizeColor(prop.start);}else{_1fd=_1fc=obj?(name?obj[name]:obj):def;}if(prop.end){end=g.normalizeColor(prop.end);}else{if(!_1fc){_1fc=obj?(name?obj[name]:obj):def;}end=_1fc;}return new _1f0(_1fd,end);};var _1fe=function(prop,obj,name,def){if(prop.values){return new _1f2(prop.values);}var _1ff,_200,end;if(prop.start){_200=prop.start;}else{_200=_1ff=obj?obj[name]:def;}if(prop.end){end=prop.end;}else{if(typeof _1ff!="number"){_1ff=obj?obj[name]:def;}end=_1ff;}return new _1eb(_200,end);};g.fx.animateStroke=function(args){if(!args.easing){args.easing=d._defaultEasing;}var anim=new d.Animation(args),_201=args.shape,_202;d.connect(anim,"beforeBegin",anim,function(){_202=_201.getStroke();var prop=args.color,_203={},_204,_205,end;if(prop){_203.color=_1fb(prop,_202,"color",_1fa);}prop=args.style;if(prop&&prop.values){_203.style=new _1f2(prop.values);}prop=args.width;if(prop){_203.width=_1fe(prop,_202,"width",1);}prop=args.cap;if(prop&&prop.values){_203.cap=new _1f2(prop.values);}prop=args.join;if(prop){if(prop.values){_203.join=new _1f2(prop.values);}else{_205=prop.start?prop.start:(_202&&_202.join||0);end=prop.end?prop.end:(_202&&_202.join||0);if(typeof _205=="number"&&typeof end=="number"){_203.join=new _1eb(_205,end);}}}this.curve=new _1f4(_203,_202);});d.connect(anim,"onAnimate",_201,"setStroke");return anim;};g.fx.animateFill=function(args){if(!args.easing){args.easing=d._defaultEasing;}var anim=new d.Animation(args),_206=args.shape,fill;d.connect(anim,"beforeBegin",anim,function(){fill=_206.getFill();var prop=args.color,_207={};if(prop){this.curve=_1fb(prop,fill,"",_1fa);}});d.connect(anim,"onAnimate",_206,"setFill");return anim;};g.fx.animateFont=function(args){if(!args.easing){args.easing=d._defaultEasing;}var anim=new d.Animation(args),_208=args.shape,font;d.connect(anim,"beforeBegin",anim,function(){font=_208.getFont();var prop=args.style,_209={},_20a,_20b,end;if(prop&&prop.values){_209.style=new _1f2(prop.values);}prop=args.variant;if(prop&&prop.values){_209.variant=new _1f2(prop.values);}prop=args.weight;if(prop&&prop.values){_209.weight=new _1f2(prop.values);}prop=args.family;if(prop&&prop.values){_209.family=new _1f2(prop.values);}prop=args.size;if(prop&&prop.units){_20b=parseFloat(prop.start?prop.start:(_208.font&&_208.font.size||"0"));end=parseFloat(prop.end?prop.end:(_208.font&&_208.font.size||"0"));_209.size=new _1ed(_20b,end,prop.units);}this.curve=new _1f4(_209,font);});d.connect(anim,"onAnimate",_208,"setFont");return anim;};g.fx.animateTransform=function(args){if(!args.easing){args.easing=d._defaultEasing;}var anim=new d.Animation(args),_20c=args.shape,_20d;d.connect(anim,"beforeBegin",anim,function(){_20d=_20c.getTransform();this.curve=new _1f6(args.transform,_20d);});d.connect(anim,"onAnimate",_20c,"setTransform");return anim;};})();}if(!dojo._hasResource["dojox.charting.plot2d.Columns"]){dojo._hasResource["dojox.charting.plot2d.Columns"]=true;dojo.provide("dojox.charting.plot2d.Columns");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,_20e=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Columns",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y",gap:0,shadows:null,animate:null},optionalParams:{minBarSize:1,maxBarSize:1},constructor:function(_20f,_210){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_210);du.updateWithPattern(this.opt,_210,this.optionalParams);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;this.animate=this.opt.animate;},calculateAxes:function(dim){var _211=dc.collectSimpleStats(this.series);_211.hmin-=0.5;_211.hmax+=0.5;this._calc(dim,_211);return this;},render:function(dim,_212){this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_20e);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_213,_214,fill,f,gap,_215,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_216=Math.max(0,this._vScaler.bounds.lower),_217=vt(_216),_218=this.events();f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt);gap=f.gap;_215=f.size;this.resetEvents();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group;if(!run.fill||!run.stroke){_213=run.dyn.color=new dojo.Color(t.next("color"));}_214=run.stroke?run.stroke:dc.augmentStroke(t.series.stroke,_213);fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_213);for(var j=0;j<run.data.length;++j){var _219=run.data[j],v=typeof _219=="number"?_219:_219.y,vv=vt(v),_21a=vv-_217,h=Math.abs(_21a),_21b=_213,_21c=fill,_21d=_214;if(typeof _219!="number"){if(_219.color){_21b=new dojo.Color(_219.color);}if("fill" in _219){_21c=_219.fill;}else{if(_219.color){_21c=dc.augmentFill(t.series.fill,_21b);}}if("stroke" in _219){_21d=_219.stroke;}else{if(_219.color){_21d=dc.augmentStroke(t.series.stroke,_21b);}}}if(_215>=1&&h>=1){var _21e=s.createRect({x:_212.l+ht(j+0.5)+gap,y:dim.height-_212.b-(v>_216?vv:_217),width:_215,height:h}).setFill(_21c).setStroke(_21d);run.dyn.fill=_21e.getFill();run.dyn.stroke=_21e.getStroke();if(_218){var o={element:"column",index:j,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:_21e,x:j+0.5,y:v};this._connectEvents(_21e,o);}if(this.animate){this._animateColumn(_21e,dim.height-_212.b-_217,h);}}}run.dirty=false;}this.dirty=false;return this;},_animateColumn:function(_21f,_220,_221){dojox.gfx.fx.animateTransform(dojo.delegate({shape:_21f,duration:1200,transform:[{name:"translate",start:[0,_220-(_220/_221)],end:[0,0]},{name:"scale",start:[1,1/_221],end:[1,1]},{name:"original"}]},this.animate)).play();}});})();}if(!dojo._hasResource["dojox.charting.plot2d.StackedColumns"]){dojo._hasResource["dojox.charting.plot2d.StackedColumns"]=true;dojo.provide("dojox.charting.plot2d.StackedColumns");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common,_222=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.StackedColumns",dojox.charting.plot2d.Columns,{calculateAxes:function(dim){var _223=dc.collectStackedStats(this.series);this._maxRunLength=_223.hmax;_223.hmin-=0.5;_223.hmax+=0.5;this._calc(dim,_223);return this;},render:function(dim,_224){if(this._maxRunLength<=0){return this;}var acc=df.repeat(this._maxRunLength,"-> 0",0);for(var i=0;i<this.series.length;++i){var run=this.series[i];for(var j=0;j<run.data.length;++j){var _225=run.data[j],v=typeof _225=="number"?_225:_225.y;if(isNaN(v)){v=0;}acc[j]+=v;}}this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_222);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_226,_227,fill,f,gap,_228,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_229=this.events();f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt);gap=f.gap;_228=f.size;this.resetEvents();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group;if(!run.fill||!run.stroke){_226=run.dyn.color=new dojo.Color(t.next("color"));}_227=run.stroke?run.stroke:dc.augmentStroke(t.series.stroke,_226);fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_226);for(var j=0;j<acc.length;++j){var v=acc[j],_22a=vt(v),_225=run.data[j],_22b=_226,_22c=fill,_22d=_227;if(typeof _225!="number"){if(_225.color){_22b=new dojo.Color(_225.color);}if("fill" in _225){_22c=_225.fill;}else{if(_225.color){_22c=dc.augmentFill(t.series.fill,_22b);}}if("stroke" in _225){_22d=_225.stroke;}else{if(_225.color){_22d=dc.augmentStroke(t.series.stroke,_22b);}}}if(_228>=1&&_22a>=1){var _22e=s.createRect({x:_224.l+ht(j+0.5)+gap,y:dim.height-_224.b-vt(v),width:_228,height:_22a}).setFill(_22c).setStroke(_22d);run.dyn.fill=_22e.getFill();run.dyn.stroke=_22e.getStroke();if(_229){var o={element:"column",index:j,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:_22e,x:j+0.5,y:v};this._connectEvents(_22e,o);}if(this.animate){this._animateColumn(_22e,dim.height-_224.b,_22a);}}}run.dirty=false;for(var j=0;j<run.data.length;++j){var _225=run.data[j],v=typeof _225=="number"?_225:_225.y;if(isNaN(v)){v=0;}acc[j]-=v;}}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.ClusteredColumns"]){dojo._hasResource["dojox.charting.plot2d.ClusteredColumns"]=true;dojo.provide("dojox.charting.plot2d.ClusteredColumns");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common,_22f=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.ClusteredColumns",dojox.charting.plot2d.Columns,{render:function(dim,_230){this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_22f);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_231,_232,fill,f,gap,_233,_234,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_235=Math.max(0,this._vScaler.bounds.lower),_236=vt(_235),_237=this.events();f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt,this.series.length);gap=f.gap;_233=_234=f.size;this.resetEvents();for(var i=0;i<this.series.length;++i){var run=this.series[i],_238=_234*i;if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group;if(!run.fill||!run.stroke){_231=run.dyn.color=new dojo.Color(t.next("color"));}_232=run.stroke?run.stroke:dc.augmentStroke(t.series.stroke,_231);fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_231);for(var j=0;j<run.data.length;++j){var _239=run.data[j],v=typeof _239=="number"?_239:_239.y,vv=vt(v),_23a=vv-_236,h=Math.abs(_23a),_23b=_231,_23c=fill,_23d=_232;if(typeof _239!="number"){if(_239.color){_23b=new dojo.Color(_239.color);}if("fill" in _239){_23c=_239.fill;}else{if(_239.color){_23c=dc.augmentFill(t.series.fill,_23b);}}if("stroke" in _239){_23d=_239.stroke;}else{if(_239.color){_23d=dc.augmentStroke(t.series.stroke,_23b);}}}if(_233>=1&&h>=1){var _23e=s.createRect({x:_230.l+ht(j+0.5)+gap+_238,y:dim.height-_230.b-(v>_235?vv:_236),width:_233,height:h}).setFill(_23c).setStroke(_23d);run.dyn.fill=_23e.getFill();run.dyn.stroke=_23e.getStroke();if(_237){var o={element:"column",index:j,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:_23e,x:j+0.5,y:v};this._connectEvents(_23e,o);}if(this.animate){this._animateColumn(_23e,dim.height-_230.b-_236,h);}}}run.dirty=false;}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Bars"]){dojo._hasResource["dojox.charting.plot2d.Bars"]=true;dojo.provide("dojox.charting.plot2d.Bars");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,_23f=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Bars",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y",gap:0,shadows:null,animate:null},optionalParams:{minBarSize:1,maxBarSize:1},constructor:function(_240,_241){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_241);du.updateWithPattern(this.opt,_241,this.optionalParams);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;this.animate=this.opt.animate;},calculateAxes:function(dim){var _242=dc.collectSimpleStats(this.series),t;_242.hmin-=0.5;_242.hmax+=0.5;t=_242.hmin,_242.hmin=_242.vmin,_242.vmin=t;t=_242.hmax,_242.hmax=_242.vmax,_242.vmax=t;this._calc(dim,_242);return this;},render:function(dim,_243){this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_23f);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_244,_245,fill,f,gap,_246,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_247=Math.max(0,this._hScaler.bounds.lower),_248=ht(_247),_249=this.events();f=dc.calculateBarSize(this._vScaler.bounds.scale,this.opt);gap=f.gap;_246=f.size;this.resetEvents();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group;if(!run.fill||!run.stroke){_244=run.dyn.color=new dojo.Color(t.next("color"));}_245=run.stroke?run.stroke:dc.augmentStroke(t.series.stroke,_244);fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_244);for(var j=0;j<run.data.length;++j){var _24a=run.data[j],v=typeof _24a=="number"?_24a:_24a.y,hv=ht(v),_24b=hv-_248,w=Math.abs(_24b),_24c=_244,_24d=fill,_24e=_245;if(typeof _24a!="number"){if(_24a.color){_24c=new dojo.Color(_24a.color);}if("fill" in _24a){_24d=_24a.fill;}else{if(_24a.color){_24d=dc.augmentFill(t.series.fill,_24c);}}if("stroke" in _24a){_24e=_24a.stroke;}else{if(_24a.color){_24e=dc.augmentStroke(t.series.stroke,_24c);}}}if(w>=1&&_246>=1){var _24f=s.createRect({x:_243.l+(v<_247?hv:_248),y:dim.height-_243.b-vt(j+1.5)+gap,width:w,height:_246}).setFill(_24d).setStroke(_24e);run.dyn.fill=_24f.getFill();run.dyn.stroke=_24f.getStroke();if(_249){var o={element:"bar",index:j,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:_24f,x:v,y:j+1.5};this._connectEvents(_24f,o);}if(this.animate){this._animateBar(_24f,_243.l+_248,-w);}}}run.dirty=false;}this.dirty=false;return this;},_animateBar:function(_250,_251,_252){dojox.gfx.fx.animateTransform(dojo.delegate({shape:_250,duration:1200,transform:[{name:"translate",start:[_251-(_251/_252),0],end:[0,0]},{name:"scale",start:[1/_252,1],end:[1,1]},{name:"original"}]},this.animate)).play();}});})();}if(!dojo._hasResource["dojox.charting.plot2d.StackedBars"]){dojo._hasResource["dojox.charting.plot2d.StackedBars"]=true;dojo.provide("dojox.charting.plot2d.StackedBars");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common,_253=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.StackedBars",dojox.charting.plot2d.Bars,{calculateAxes:function(dim){var _254=dc.collectStackedStats(this.series),t;this._maxRunLength=_254.hmax;_254.hmin-=0.5;_254.hmax+=0.5;t=_254.hmin,_254.hmin=_254.vmin,_254.vmin=t;t=_254.hmax,_254.hmax=_254.vmax,_254.vmax=t;this._calc(dim,_254);return this;},render:function(dim,_255){if(this._maxRunLength<=0){return this;}var acc=df.repeat(this._maxRunLength,"-> 0",0);for(var i=0;i<this.series.length;++i){var run=this.series[i];for(var j=0;j<run.data.length;++j){var _256=run.data[j],v=typeof _256=="number"?_256:_256.y;if(isNaN(v)){v=0;}acc[j]+=v;}}this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_253);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_257,_258,fill,f,gap,_259,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_25a=this.events();f=dc.calculateBarSize(this._vScaler.bounds.scale,this.opt);gap=f.gap;_259=f.size;this.resetEvents();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group;if(!run.fill||!run.stroke){_257=run.dyn.color=new dojo.Color(t.next("color"));}_258=run.stroke?run.stroke:dc.augmentStroke(t.series.stroke,_257);fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_257);for(var j=0;j<acc.length;++j){var v=acc[j],_25b=ht(v),_256=run.data[j],_25c=_257,_25d=fill,_25e=_258;if(typeof _256!="number"){if(_256.color){_25c=new dojo.Color(_256.color);}if("fill" in _256){_25d=_256.fill;}else{if(_256.color){_25d=dc.augmentFill(t.series.fill,_25c);}}if("stroke" in _256){_25e=_256.stroke;}else{if(_256.color){_25e=dc.augmentStroke(t.series.stroke,_25c);}}}if(_25b>=1&&_259>=1){var _25f=s.createRect({x:_255.l,y:dim.height-_255.b-vt(j+1.5)+gap,width:_25b,height:_259}).setFill(_25d).setStroke(_25e);run.dyn.fill=_25f.getFill();run.dyn.stroke=_25f.getStroke();if(_25a){var o={element:"bar",index:j,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:_25f,x:v,y:j+1.5};this._connectEvents(_25f,o);}if(this.animate){this._animateBar(_25f,_255.l,-_25b);}}}run.dirty=false;for(var j=0;j<run.data.length;++j){var _256=run.data[j],v=typeof _256=="number"?_256:_256.y;if(isNaN(v)){v=0;}acc[j]-=v;}}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.ClusteredBars"]){dojo._hasResource["dojox.charting.plot2d.ClusteredBars"]=true;dojo.provide("dojox.charting.plot2d.ClusteredBars");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common,_260=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.ClusteredBars",dojox.charting.plot2d.Bars,{render:function(dim,_261){this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_260);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_262,_263,fill,f,gap,_264,_265,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_266=Math.max(0,this._hScaler.bounds.lower),_267=ht(_266),_268=this.events();f=dc.calculateBarSize(this._vScaler.bounds.scale,this.opt,this.series.length);gap=f.gap;_264=_265=f.size;this.resetEvents();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i],_269=_265*(this.series.length-i-1);if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group;if(!run.fill||!run.stroke){_262=run.dyn.color=new dojo.Color(t.next("color"));}_263=run.stroke?run.stroke:dc.augmentStroke(t.series.stroke,_262);fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_262);for(var j=0;j<run.data.length;++j){var _26a=run.data[j],v=typeof _26a=="number"?_26a:_26a.y,hv=ht(v),_26b=hv-_267,w=Math.abs(_26b),_26c=_262,_26d=fill,_26e=_263;if(typeof _26a!="number"){if(_26a.color){_26c=new dojo.Color(_26a.color);}if("fill" in _26a){_26d=_26a.fill;}else{if(_26a.color){_26d=dc.augmentFill(t.series.fill,_26c);}}if("stroke" in _26a){_26e=_26a.stroke;}else{if(_26a.color){_26e=dc.augmentStroke(t.series.stroke,_26c);}}}if(w>=1&&_264>=1){var _26f=s.createRect({x:_261.l+(v<_266?hv:_267),y:dim.height-_261.b-vt(j+1.5)+gap+_269,width:w,height:_264}).setFill(_26d).setStroke(_26e);run.dyn.fill=_26f.getFill();run.dyn.stroke=_26f.getStroke();if(_268){var o={element:"bar",index:j,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:_26f,x:v,y:j+1.5};this._connectEvents(_26f,o);}if(this.animate){this._animateBar(_26f,_261.l+_267,-_26b);}}}run.dirty=false;}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Grid"]){dojo._hasResource["dojox.charting.plot2d.Grid"]=true;dojo.provide("dojox.charting.plot2d.Grid");(function(){var du=dojox.lang.utils;dojo.declare("dojox.charting.plot2d.Grid",dojox.charting.Element,{defaultParams:{hAxis:"x",vAxis:"y",hMajorLines:true,hMinorLines:false,vMajorLines:true,vMinorLines:false,hStripes:"none",vStripes:"none"},optionalParams:{},constructor:function(_270,_271){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_271);this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;this.dirty=true;},clear:function(){this._hAxis=null;this._vAxis=null;this.dirty=true;return this;},setAxis:function(axis){if(axis){this[axis.vertical?"_vAxis":"_hAxis"]=axis;}return this;},addSeries:function(run){return this;},calculateAxes:function(dim){return this;},isDirty:function(){return this.dirty||this._hAxis&&this._hAxis.dirty||this._vAxis&&this._vAxis.dirty;},getRequiredColors:function(){return 0;},render:function(dim,_272){this.dirty=this.isDirty();if(!this.dirty){return this;}this.cleanGroup();var s=this.group,ta=this.chart.theme.axis;try{var _273=this._vAxis.getScaler(),vt=_273.scaler.getTransformerFromModel(_273),_274=this._vAxis.getTicks();if(this.opt.hMinorLines){dojo.forEach(_274.minor,function(tick){var y=dim.height-_272.b-vt(tick.value);s.createLine({x1:_272.l,y1:y,x2:dim.width-_272.r,y2:y}).setStroke(ta.minorTick);});}if(this.opt.hMajorLines){dojo.forEach(_274.major,function(tick){var y=dim.height-_272.b-vt(tick.value);s.createLine({x1:_272.l,y1:y,x2:dim.width-_272.r,y2:y}).setStroke(ta.majorTick);});}}catch(e){}try{var _275=this._hAxis.getScaler(),ht=_275.scaler.getTransformerFromModel(_275),_274=this._hAxis.getTicks();if(_274&&this.opt.vMinorLines){dojo.forEach(_274.minor,function(tick){var x=_272.l+ht(tick.value);s.createLine({x1:x,y1:_272.t,x2:x,y2:dim.height-_272.b}).setStroke(ta.minorTick);});}if(_274&&this.opt.vMajorLines){dojo.forEach(_274.major,function(tick){var x=_272.l+ht(tick.value);s.createLine({x1:x,y1:_272.t,x2:x,y2:dim.height-_272.b}).setStroke(ta.majorTick);});}}catch(e){}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Pie"]){dojo._hasResource["dojox.charting.plot2d.Pie"]=true;dojo.provide("dojox.charting.plot2d.Pie");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,da=dojox.charting.axis2d.common,g=dojox.gfx;dojo.declare("dojox.charting.plot2d.Pie",dojox.charting.Element,{defaultParams:{labels:true,ticks:false,fixed:true,precision:1,labelOffset:20,labelStyle:"default",htmlLabels:true},optionalParams:{font:"",fontColor:"",radius:0},constructor:function(_276,_277){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_277);du.updateWithPattern(this.opt,_277,this.optionalParams);this.run=null;this.dyn=[];},destroy:function(){this.resetEvents();this.inherited(arguments);},clear:function(){this.dirty=true;this.dyn=[];this.run=null;return this;},setAxis:function(axis){return this;},addSeries:function(run){this.run=run;return this;},calculateAxes:function(dim){return this;},getRequiredColors:function(){return this.run?this.run.data.length:0;},plotEvent:function(o){},connect:function(_278,_279){this.dirty=true;return dojo.connect(this,"plotEvent",_278,_279);},events:function(){var ls=this.plotEvent._listeners;if(!ls||!ls.length){return false;}for(var i in ls){if(!(i in Array.prototype)){return true;}}return false;},resetEvents:function(){this.plotEvent({type:"onplotreset",plot:this});},_connectEvents:function(_27a,o){_27a.connect("onmouseover",this,function(e){o.type="onmouseover";o.event=e;this.plotEvent(o);});_27a.connect("onmouseout",this,function(e){o.type="onmouseout";o.event=e;this.plotEvent(o);});_27a.connect("onclick",this,function(e){o.type="onclick";o.event=e;this.plotEvent(o);});},render:function(dim,_27b){if(!this.dirty){return this;}this.dirty=false;this.cleanGroup();var s=this.group,_27c,t=this.chart.theme;this.resetEvents();if(!this.run||!this.run.data.length){return this;}var rx=(dim.width-_27b.l-_27b.r)/2,ry=(dim.height-_27b.t-_27b.b)/2,r=Math.min(rx,ry),_27d="font" in this.opt?this.opt.font:t.axis.font,size=_27d?g.normalizedLength(g.splitFontString(_27d).size):0,_27e="fontColor" in this.opt?this.opt.fontColor:t.axis.fontColor,_27f=0,step,_280,_281,_282,_283,_284,run=this.run.data,_285=this.events();if(typeof run[0]=="number"){_280=df.map(run,"Math.max(x, 0)");if(df.every(_280,"<= 0")){return this;}_281=df.map(_280,"/this",df.foldl(_280,"+",0));if(this.opt.labels){_282=dojo.map(_281,function(x){return x>0?this._getLabel(x*100)+"%":"";},this);}}else{_280=df.map(run,"Math.max(x.y, 0)");if(df.every(_280,"<= 0")){return this;}_281=df.map(_280,"/this",df.foldl(_280,"+",0));if(this.opt.labels){_282=dojo.map(_281,function(x,i){if(x<=0){return "";}var v=run[i];return "text" in v?v.text:this._getLabel(x*100)+"%";},this);}}if(this.opt.labels){_283=df.foldl1(df.map(_282,function(_286){return dojox.gfx._base._getTextBox(_286,{font:_27d}).w;},this),"Math.max(a, b)")/2;if(this.opt.labelOffset<0){r=Math.min(rx-2*_283,ry-size)+this.opt.labelOffset;}_284=r-this.opt.labelOffset;}if("radius" in this.opt){r=this.opt.radius;_284=r-this.opt.labelOffset;}var _287={cx:_27b.l+rx,cy:_27b.t+ry,r:r};this.dyn=[];dojo.some(_281,function(_288,i){if(_288<=0){return false;}var v=run[i];if(_288>=1){var _289,fill,_28a;if(typeof v=="object"){_289="color" in v?v.color:new dojo.Color(t.next("color"));fill="fill" in v?v.fill:dc.augmentFill(t.series.fill,_289);_28a="stroke" in v?v.stroke:dc.augmentStroke(t.series.stroke,_289);}else{_289=new dojo.Color(t.next("color"));fill=dc.augmentFill(t.series.fill,_289);_28a=dc.augmentStroke(t.series.stroke,_289);}var _28b=s.createCircle(_287).setFill(fill).setStroke(_28a);this.dyn.push({color:_289,fill:fill,stroke:_28a});if(_285){var o={element:"slice",index:i,run:this.run,plot:this,shape:_28b,x:i,y:typeof v=="number"?v:v.y,cx:_287.cx,cy:_287.cy,cr:r};this._connectEvents(_28b,o);}return true;}var end=_27f+_288*2*Math.PI;if(i+1==_281.length){end=2*Math.PI;}var step=end-_27f,x1=_287.cx+r*Math.cos(_27f),y1=_287.cy+r*Math.sin(_27f),x2=_287.cx+r*Math.cos(end),y2=_287.cy+r*Math.sin(end);var _289,fill,_28a;if(typeof v=="object"){_289="color" in v?v.color:new dojo.Color(t.next("color"));fill="fill" in v?v.fill:dc.augmentFill(t.series.fill,_289);_28a="stroke" in v?v.stroke:dc.augmentStroke(t.series.stroke,_289);}else{_289=new dojo.Color(t.next("color"));fill=dc.augmentFill(t.series.fill,_289);_28a=dc.augmentStroke(t.series.stroke,_289);}var _28b=s.createPath({}).moveTo(_287.cx,_287.cy).lineTo(x1,y1).arcTo(r,r,0,step>Math.PI,true,x2,y2).lineTo(_287.cx,_287.cy).closePath().setFill(fill).setStroke(_28a);this.dyn.push({color:_289,fill:fill,stroke:_28a});if(_285){var o={element:"slice",index:i,run:this.run,plot:this,shape:_28b,x:i,y:typeof v=="number"?v:v.y,cx:_287.cx,cy:_287.cy,cr:r};this._connectEvents(_28b,o);}_27f=end;return false;},this);if(this.opt.labels){_27f=0;dojo.some(_281,function(_28c,i){if(_28c<=0){return false;}if(_28c>=1){var v=run[i],elem=da.createText[this.opt.htmlLabels&&dojox.gfx.renderer!="vml"?"html":"gfx"](this.chart,s,_287.cx,_287.cy+size/2,"middle",_282[i],_27d,(typeof v=="object"&&"fontColor" in v)?v.fontColor:_27e);if(this.opt.htmlLabels){this.htmlElements.push(elem);}return true;}var end=_27f+_28c*2*Math.PI,v=run[i];if(i+1==_281.length){end=2*Math.PI;}var _28d=(_27f+end)/2,x=_287.cx+_284*Math.cos(_28d),y=_287.cy+_284*Math.sin(_28d)+size/2;var elem=da.createText[this.opt.htmlLabels&&dojox.gfx.renderer!="vml"?"html":"gfx"](this.chart,s,x,y,"middle",_282[i],_27d,(typeof v=="object"&&"fontColor" in v)?v.fontColor:_27e);if(this.opt.htmlLabels){this.htmlElements.push(elem);}_27f=end;return false;},this);}return this;},_getLabel:function(_28e){return this.opt.fixed?_28e.toFixed(this.opt.precision):_28e.toString();}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Bubble"]){dojo._hasResource["dojox.charting.plot2d.Bubble"]=true;dojo.provide("dojox.charting.plot2d.Bubble");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,_28f=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Bubble",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y"},optionalParams:{},constructor:function(_290,_291){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_291);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;},calculateAxes:function(dim){this._calc(dim,dc.collectSimpleStats(this.series));return this;},render:function(dim,_292){this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_28f);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_293,_294,_295,_296,_297,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_298=this.events();this.resetEvents();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();if(!run.data.length){run.dirty=false;continue;}if(typeof run.data[0]=="number"){console.warn("dojox.charting.plot2d.Bubble: the data in the following series cannot be rendered as a bubble chart; ",run);continue;}var s=run.group,_299=dojo.map(run.data,function(v,i){return {x:ht(v.x)+_292.l,y:dim.height-_292.b-vt(v.y),radius:this._vScaler.bounds.scale*(v.size/2)};},this);if(run.fill){_295=run.fill;}else{if(run.stroke){_295=run.stroke;}else{_295=run.dyn.color=new dojo.Color(t.next("color"));}}run.dyn.fill=_295;_293=run.dyn.stroke=run.stroke?dc.makeStroke(run.stroke):dc.augmentStroke(t.series.stroke,_295);var _29a=null,_29b=null,_29c=null;if(this.opt.shadows&&_293){var sh=this.opt.shadows,_297=new dojo.Color([0,0,0,0.2]),_296=dojo.clone(_294?_294:_293);_296.color=_297;_296.width+=sh.dw?sh.dw:0;run.dyn.shadow=_296;var _29d=dojo.map(_299,function(item){var sh=this.opt.shadows;return s.createCircle({cx:item.x+sh.dx,cy:item.y+sh.dy,r:item.radius}).setStroke(_296).setFill(_297);},this);}if(run.outline||t.series.outline){_294=dc.makeStroke(run.outline?run.outline:t.series.outline);_294.width=2*_294.width+_293.width;run.dyn.outline=_294;_29b=dojo.map(_299,function(item){s.createCircle({cx:item.x,cy:item.y,r:item.radius}).setStroke(_294);},this);}_29a=dojo.map(_299,function(item){return s.createCircle({cx:item.x,cy:item.y,r:item.radius}).setStroke(_293).setFill(_295);},this);if(_298){dojo.forEach(_29a,function(s,i){var o={element:"circle",index:i,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:s,outline:_29b&&_29b[i]||null,shadow:_29c&&_29c[i]||null,x:run.data[i].x,y:run.data[i].y,r:run.data[i].size/2,cx:_299[i].x,cy:_299[i].y,cr:_299[i].radius};this._connectEvents(s,o);},this);}run.dirty=false;}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Candlesticks"]){dojo._hasResource["dojox.charting.plot2d.Candlesticks"]=true;dojo.provide("dojox.charting.plot2d.Candlesticks");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,_29e=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Candlesticks",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y",gap:2,shadows:null},optionalParams:{minBarSize:1,maxBarSize:1},constructor:function(_29f,_2a0){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_2a0);du.updateWithPattern(this.opt,_2a0,this.optionalParams);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;},collectStats:function(_2a1){var _2a2=dojo.clone(dc.defaultStats);for(var i=0;i<_2a1.length;i++){var run=_2a1[i];if(!run.data.length){continue;}var _2a3=_2a2.vmin,_2a4=_2a2.vmax;if(!("ymin" in run)||!("ymax" in run)){dojo.forEach(run.data,function(val,idx){var x=val.x||idx+1;_2a2.hmin=Math.min(_2a2.hmin,x);_2a2.hmax=Math.max(_2a2.hmax,x);_2a2.vmin=Math.min(_2a2.vmin,val.open,val.close,val.high,val.low);_2a2.vmax=Math.max(_2a2.vmax,val.open,val.close,val.high,val.low);});}if("ymin" in run){_2a2.vmin=Math.min(_2a3,run.ymin);}if("ymax" in run){_2a2.vmax=Math.max(_2a4,run.ymax);}}return _2a2;},calculateAxes:function(dim){var _2a5=this.collectStats(this.series),t;_2a5.hmin-=0.5;_2a5.hmax+=0.5;this._calc(dim,_2a5);return this;},render:function(dim,_2a6){this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_29e);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_2a7,_2a8,fill,f,gap,_2a9,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_2aa=Math.max(0,this._vScaler.bounds.lower),_2ab=vt(_2aa),_2ac=this.events();f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt);gap=f.gap;_2a9=f.size;this.resetEvents();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group;if(!run.fill||!run.stroke){_2a7=run.dyn.color=new dojo.Color(t.next("color"));}_2a8=run.stroke?run.stroke:dc.augmentStroke(t.series.stroke,_2a7);fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_2a7);for(var j=0;j<run.data.length;++j){var v=run.data[j];var x=ht(v.x||(j+0.5))+_2a6.l+gap,y=dim.height-_2a6.b,open=vt(v.open),_2ad=vt(v.close),high=vt(v.high),low=vt(v.low);if("mid" in v){var mid=vt(v.mid);}if(low>high){var tmp=high;high=low;low=tmp;}if(_2a9>=1){var _2ae=open>_2ad;var line={x1:_2a9/2,x2:_2a9/2,y1:y-high,y2:y-low},rect={x:0,y:y-Math.max(open,_2ad),width:_2a9,height:Math.max(_2ae?open-_2ad:_2ad-open,1)};shape=s.createGroup();shape.setTransform({dx:x,dy:0});var _2af=shape.createGroup();_2af.createLine(line).setStroke(_2a8);_2af.createRect(rect).setStroke(_2a8).setFill(_2ae?fill:"white");if("mid" in v){_2af.createLine({x1:(_2a8.width||1),x2:_2a9-(_2a8.width||1),y1:y-mid,y2:y-mid}).setStroke(_2ae?{color:"white"}:_2a8);}run.dyn.fill=fill;run.dyn.stroke=_2a8;if(_2ac){var o={element:"candlestick",index:j,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:_2af,x:x,y:y-Math.max(open,_2ad),cx:_2a9/2,cy:(y-Math.max(open,_2ad))+(Math.max(_2ae?open-_2ad:_2ad-open,1)/2),width:_2a9,height:Math.max(_2ae?open-_2ad:_2ad-open,1),data:v};this._connectEvents(shape,o);}}}run.dirty=false;}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.OHLC"]){dojo._hasResource["dojox.charting.plot2d.OHLC"]=true;dojo.provide("dojox.charting.plot2d.OHLC");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,_2b0=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.OHLC",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y",gap:2,shadows:null},optionalParams:{minBarSize:1,maxBarSize:1},constructor:function(_2b1,_2b2){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_2b2);du.updateWithPattern(this.opt,_2b2,this.optionalParams);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;},collectStats:function(_2b3){var _2b4=dojo.clone(dc.defaultStats);for(var i=0;i<_2b3.length;i++){var run=_2b3[i];if(!run.data.length){continue;}var _2b5=_2b4.vmin,_2b6=_2b4.vmax;if(!("ymin" in run)||!("ymax" in run)){dojo.forEach(run.data,function(val,idx){var x=val.x||idx+1;_2b4.hmin=Math.min(_2b4.hmin,x);_2b4.hmax=Math.max(_2b4.hmax,x);_2b4.vmin=Math.min(_2b4.vmin,val.open,val.close,val.high,val.low);_2b4.vmax=Math.max(_2b4.vmax,val.open,val.close,val.high,val.low);});}if("ymin" in run){_2b4.vmin=Math.min(_2b5,run.ymin);}if("ymax" in run){_2b4.vmax=Math.max(_2b6,run.ymax);}}return _2b4;},calculateAxes:function(dim){var _2b7=this.collectStats(this.series),t;_2b7.hmin-=0.5;_2b7.hmax+=0.5;this._calc(dim,_2b7);return this;},render:function(dim,_2b8){this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_2b0);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_2b9,_2ba,fill,f,gap,_2bb,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_2bc=Math.max(0,this._vScaler.bounds.lower),_2bd=vt(_2bc),_2be=this.events();f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt);gap=f.gap;_2bb=f.size;this.resetEvents();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group;if(!run.fill||!run.stroke){_2b9=run.dyn.color=new dojo.Color(t.next("color"));}_2ba=run.stroke?run.stroke:dc.augmentStroke(t.series.stroke,_2b9);fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_2b9);for(var j=0;j<run.data.length;++j){var v=run.data[j];var x=ht(v.x||(j+0.5))+_2b8.l+gap,y=dim.height-_2b8.b,open=vt(v.open),_2bf=vt(v.close),high=vt(v.high),low=vt(v.low);if(low>high){var tmp=high;high=low;low=tmp;}if(_2bb>=1){var hl={x1:_2bb/2,x2:_2bb/2,y1:y-high,y2:y-low},op={x1:0,x2:((_2bb/2)+((_2ba.width||1)/2)),y1:y-open,y2:y-open},cl={x1:((_2bb/2)-((_2ba.width||1)/2)),x2:_2bb,y1:y-_2bf,y2:y-_2bf};shape=s.createGroup();shape.setTransform({dx:x,dy:0});var _2c0=shape.createGroup();_2c0.createLine(hl).setStroke(_2ba);_2c0.createLine(op).setStroke(_2ba);_2c0.createLine(cl).setStroke(_2ba);run.dyn.fill=fill;run.dyn.stroke=_2ba;if(_2be){var o={element:"candlestick",index:j,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:_2c0,x:x,y:y-Math.max(open,_2bf),cx:_2bb/2,cy:(y-Math.max(open,_2bf))+(Math.max(open>_2bf?open-_2bf:_2bf-open,1)/2),width:_2bb,height:Math.max(open>_2bf?open-_2bf:_2bf-open,1),data:v};this._connectEvents(shape,o);}}}run.dirty=false;}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.Chart2D"]){dojo._hasResource["dojox.charting.Chart2D"]=true;dojo.provide("dojox.charting.Chart2D");(function(){var df=dojox.lang.functional,dc=dojox.charting,_2c1=df.lambda("item.clear()"),_2c2=df.lambda("item.purgeGroup()"),_2c3=df.lambda("item.destroy()"),_2c4=df.lambda("item.dirty = false"),_2c5=df.lambda("item.dirty = true");dojo.declare("dojox.charting.Chart2D",null,{constructor:function(node,_2c6){if(!_2c6){_2c6={};}this.margins=_2c6.margins?_2c6.margins:{l:10,t:10,r:10,b:10};this.stroke=_2c6.stroke;this.fill=_2c6.fill;this.theme=null;this.axes={};this.stack=[];this.plots={};this.series=[];this.runs={};this.dirty=true;this.coords=null;this.node=dojo.byId(node);var box=dojo.marginBox(node);this.surface=dojox.gfx.createSurface(this.node,box.w,box.h);},destroy:function(){dojo.forEach(this.series,_2c3);dojo.forEach(this.stack,_2c3);df.forIn(this.axes,_2c3);this.surface.destroy();},getCoords:function(){if(!this.coords){this.coords=dojo.coords(this.node,true);}return this.coords;},setTheme:function(_2c7){this.theme=_2c7._clone();this.dirty=true;return this;},addAxis:function(name,_2c8){var axis;if(!_2c8||!("type" in _2c8)){axis=new dc.axis2d.Default(this,_2c8);}else{axis=typeof _2c8.type=="string"?new dc.axis2d[_2c8.type](this,_2c8):new _2c8.type(this,_2c8);}axis.name=name;axis.dirty=true;if(name in this.axes){this.axes[name].destroy();}this.axes[name]=axis;this.dirty=true;return this;},getAxis:function(name){return this.axes[name];},removeAxis:function(name){if(name in this.axes){this.axes[name].destroy();delete this.axes[name];this.dirty=true;}return this;},addPlot:function(name,_2c9){var plot;if(!_2c9||!("type" in _2c9)){plot=new dc.plot2d.Default(this,_2c9);}else{plot=typeof _2c9.type=="string"?new dc.plot2d[_2c9.type](this,_2c9):new _2c9.type(this,_2c9);}plot.name=name;plot.dirty=true;if(name in this.plots){this.stack[this.plots[name]].destroy();this.stack[this.plots[name]]=plot;}else{this.plots[name]=this.stack.length;this.stack.push(plot);}this.dirty=true;return this;},removePlot:function(name){if(name in this.plots){var _2ca=this.plots[name];delete this.plots[name];this.stack[_2ca].destroy();this.stack.splice(_2ca,1);df.forIn(this.plots,function(idx,name,_2cb){if(idx>_2ca){_2cb[name]=idx-1;}});this.dirty=true;}return this;},addSeries:function(name,data,_2cc){var run=new dc.Series(this,data,_2cc);if(name in this.runs){this.series[this.runs[name]].destroy();this.series[this.runs[name]]=run;}else{this.runs[name]=this.series.length;this.series.push(run);}run.name=name;this.dirty=true;if(!("ymin" in run)&&"min" in run){run.ymin=run.min;}if(!("ymax" in run)&&"max" in run){run.ymax=run.max;}return this;},removeSeries:function(name){if(name in this.runs){var _2cd=this.runs[name],_2ce=this.series[_2cd].plot;delete this.runs[name];this.series[_2cd].destroy();this.series.splice(_2cd,1);df.forIn(this.runs,function(idx,name,runs){if(idx>_2cd){runs[name]=idx-1;}});this.dirty=true;}return this;},updateSeries:function(name,data){if(name in this.runs){var run=this.series[this.runs[name]];run.data=data;run.dirty=true;this._invalidateDependentPlots(run.plot,false);this._invalidateDependentPlots(run.plot,true);}return this;},resize:function(_2cf,_2d0){var box;switch(arguments.length){case 0:box=dojo.marginBox(this.node);break;case 1:box=_2cf;break;default:box={w:_2cf,h:_2d0};break;}dojo.marginBox(this.node,box);this.surface.setDimensions(box.w,box.h);this.dirty=true;this.coords=null;return this.render();},getGeometry:function(){var ret={};df.forIn(this.axes,function(axis){if(axis.initialized()){ret[axis.name]={name:axis.name,vertical:axis.vertical,scaler:axis.scaler,ticks:axis.ticks};}});return ret;},setAxisWindow:function(name,_2d1,_2d2){var axis=this.axes[name];if(axis){axis.setWindow(_2d1,_2d2);}return this;},setWindow:function(sx,sy,dx,dy){if(!("plotArea" in this)){this.calculateGeometry();}df.forIn(this.axes,function(axis){var _2d3,_2d4,_2d5=axis.getScaler().bounds,s=_2d5.span/(_2d5.upper-_2d5.lower);if(axis.vertical){_2d3=sy;_2d4=dy/s/_2d3;}else{_2d3=sx;_2d4=dx/s/_2d3;}axis.setWindow(_2d3,_2d4);});return this;},calculateGeometry:function(){if(this.dirty){return this.fullGeometry();}dojo.forEach(this.stack,function(plot){if(plot.dirty||(plot.hAxis&&this.axes[plot.hAxis].dirty)||(plot.vAxis&&this.axes[plot.vAxis].dirty)){plot.calculateAxes(this.plotArea);}},this);return this;},fullGeometry:function(){this._makeDirty();dojo.forEach(this.stack,_2c1);if(!this.theme){this.setTheme(new dojox.charting.Theme(dojox.charting._def));}dojo.forEach(this.series,function(run){if(!(run.plot in this.plots)){var plot=new dc.plot2d.Default(this,{});plot.name=run.plot;this.plots[run.plot]=this.stack.length;this.stack.push(plot);}this.stack[this.plots[run.plot]].addSeries(run);},this);dojo.forEach(this.stack,function(plot){if(plot.hAxis){plot.setAxis(this.axes[plot.hAxis]);}if(plot.vAxis){plot.setAxis(this.axes[plot.vAxis]);}},this);var dim=this.dim=this.surface.getDimensions();dim.width=dojox.gfx.normalizedLength(dim.width);dim.height=dojox.gfx.normalizedLength(dim.height);df.forIn(this.axes,_2c1);dojo.forEach(this.stack,function(p){p.calculateAxes(dim);});var _2d6=this.offsets={l:0,r:0,t:0,b:0};df.forIn(this.axes,function(axis){df.forIn(axis.getOffsets(),function(o,i){_2d6[i]+=o;});});df.forIn(this.margins,function(o,i){_2d6[i]+=o;});this.plotArea={width:dim.width-_2d6.l-_2d6.r,height:dim.height-_2d6.t-_2d6.b};df.forIn(this.axes,_2c1);dojo.forEach(this.stack,function(plot){plot.calculateAxes(this.plotArea);},this);return this;},render:function(){if(this.theme){this.theme.clear();}if(this.dirty){return this.fullRender();}this.calculateGeometry();df.forEachRev(this.stack,function(plot){plot.render(this.dim,this.offsets);},this);df.forIn(this.axes,function(axis){axis.render(this.dim,this.offsets);},this);this._makeClean();if(this.surface.render){this.surface.render();}return this;},fullRender:function(){this.fullGeometry();var _2d7=this.offsets,dim=this.dim;var _2d8=df.foldl(this.stack,"z + plot.getRequiredColors()",0);this.theme.defineColors({num:_2d8,cache:false});dojo.forEach(this.series,_2c2);df.forIn(this.axes,_2c2);dojo.forEach(this.stack,_2c2);this.surface.clear();var t=this.theme,fill=t.plotarea&&t.plotarea.fill,_2d9=t.plotarea&&t.plotarea.stroke;if(fill){this.surface.createRect({x:_2d7.l,y:_2d7.t,width:dim.width-_2d7.l-_2d7.r,height:dim.height-_2d7.t-_2d7.b}).setFill(fill);}if(_2d9){this.surface.createRect({x:_2d7.l,y:_2d7.t,width:dim.width-_2d7.l-_2d7.r-1,height:dim.height-_2d7.t-_2d7.b-1}).setStroke(_2d9);}df.foldr(this.stack,function(z,plot){return plot.render(dim,_2d7),0;},0);fill=this.fill?this.fill:(t.chart&&t.chart.fill);_2d9=this.stroke?this.stroke:(t.chart&&t.chart.stroke);if(fill=="inherit"){var node=this.node,fill=new dojo.Color(dojo.style(node,"backgroundColor"));while(fill.a==0&&node!=document.documentElement){fill=new dojo.Color(dojo.style(node,"backgroundColor"));node=node.parentNode;}}if(fill){if(_2d7.l){this.surface.createRect({width:_2d7.l,height:dim.height+1}).setFill(fill);}if(_2d7.r){this.surface.createRect({x:dim.width-_2d7.r,width:_2d7.r+1,height:dim.height+1}).setFill(fill);}if(_2d7.t){this.surface.createRect({width:dim.width+1,height:_2d7.t}).setFill(fill);}if(_2d7.b){this.surface.createRect({y:dim.height-_2d7.b,width:dim.width+1,height:_2d7.b+2}).setFill(fill);}}if(_2d9){this.surface.createRect({width:dim.width-1,height:dim.height-1}).setStroke(_2d9);}df.forIn(this.axes,function(axis){axis.render(dim,_2d7);});this._makeClean();if(this.surface.render){this.surface.render();}return this;},connectToPlot:function(name,_2da,_2db){return name in this.plots?this.stack[this.plots[name]].connect(_2da,_2db):null;},_makeClean:function(){dojo.forEach(this.axes,_2c4);dojo.forEach(this.stack,_2c4);dojo.forEach(this.series,_2c4);this.dirty=false;},_makeDirty:function(){dojo.forEach(this.axes,_2c5);dojo.forEach(this.stack,_2c5);dojo.forEach(this.series,_2c5);this.dirty=true;},_invalidateDependentPlots:function(_2dc,_2dd){if(_2dc in this.plots){var plot=this.stack[this.plots[_2dc]],axis,_2de=_2dd?"vAxis":"hAxis";if(plot[_2de]){axis=this.axes[plot[_2de]];if(axis&&axis.dependOnData()){axis.dirty=true;dojo.forEach(this.stack,function(p){if(p[_2de]&&p[_2de]==plot[_2de]){p.dirty=true;}});}}else{plot.dirty=true;}}}});})();}if(!dojo._hasResource["barGraph.layer"]){dojo._hasResource["barGraph.layer"]=true;dojo.provide("barGraph.layer");}
